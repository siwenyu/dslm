{"ast":null,"code":"var _jsxFileName = \"/Users/ss/Desktop/work/dslm/src/components/LeftNav/index.js\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { RightOutlined } from '@ant-design/icons';\nimport _ from 'lodash';\nimport { leftNav1, leftNav2, leftNav3 } from '../../assets/constants';\nimport { getParam } from '../../../utils/url';\nimport './index.less';\n\nconst {\n  pathToRegexp\n} = require(\"path-to-regexp\");\n\nexport default function LeftNav({\n  // list,\n  firstText\n}) {\n  let list = [];\n  const location = useLocation();\n  const history = useHistory();\n  const [nowIndex, setNowIndex] = useState(0);\n  const [listCopy, setListCopy] = useState(list); // secLNav 选择左侧的nav\n\n  const secLNav = +getParam('secLNav');\n\n  if (secLNav === 1) {\n    list = leftNav1;\n  } else if (secLNav == 2) {\n    list = leftNav2;\n  } else if (secLNav == 3) {\n    list = leftNav3;\n  } else {\n    list = [];\n  } // 设置高亮\n\n\n  useEffect(() => {\n    const listc = _.cloneWith(list);\n\n    console.log('listc');\n    console.log(listc);\n    listc.map((e, index) => {\n      if (e.path) {\n        const re = pathToRegexp(e.path.toLocaleLowerCase().split('?')[0]);\n\n        if (re.exec(location.pathname.toLocaleLowerCase()) != null) {\n          e.isActive = true;\n          setNowIndex(index);\n        } else {\n          e.isActive = false;\n        }\n      }\n    });\n    setListCopy(listc);\n  }, [location]);\n\n  const navClick = e => {\n    if (e.path) {\n      history.push(e.path);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, listCopy && listCopy.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navleft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navleft-now\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, firstText || listCopy[nowIndex] && (listCopy[nowIndex].text || listCopy[nowIndex].tabName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navleft-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, listCopy.map((e, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: e.text,\n      onClick: () => navClick(e),\n      className: `navleft-item ${e.isActive ? 'active' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 23\n      }\n    }, e.text || e.tabName), e.isActive && /*#__PURE__*/React.createElement(RightOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 39\n      }\n    }), e.tip && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navleft-tip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 27\n      }\n    }, e.tip));\n  }))));\n}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/components/LeftNav/index.js"],"names":["React","useState","useEffect","Fragment","useHistory","useLocation","RightOutlined","_","leftNav1","leftNav2","leftNav3","getParam","pathToRegexp","require","LeftNav","firstText","list","location","history","nowIndex","setNowIndex","listCopy","setListCopy","secLNav","listc","cloneWith","console","log","map","e","index","path","re","toLocaleLowerCase","split","exec","pathname","isActive","navClick","push","length","text","tabName","tip"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { RightOutlined } from '@ant-design/icons';\nimport _ from 'lodash';\n\nimport {\n  leftNav1,\n  leftNav2,\n  leftNav3,\n} from '../../assets/constants';\n\nimport { getParam } from '../../../utils/url';\nimport './index.less';\n\nconst { pathToRegexp } = require(\"path-to-regexp\");\n\nexport default function LeftNav({\n  // list,\n  firstText,\n}) {\n  let list = [];\n  const location = useLocation();\n  const history = useHistory();\n\n  const [nowIndex, setNowIndex] = useState(0);\n  const [listCopy, setListCopy] = useState(list);\n\n  // secLNav 选择左侧的nav\n  const secLNav = +getParam('secLNav');\n  if (secLNav === 1) {\n    list = leftNav1;\n  } else if (secLNav == 2) {\n    list = leftNav2;\n  } else if (secLNav == 3) {\n    list = leftNav3;\n  } else {\n    list = [];\n  }\n  \n  // 设置高亮\n  useEffect(() => {\n    const listc = _.cloneWith(list);\n    console.log('listc')\n    console.log(listc)\n    listc.map((e, index) => {\n      if (e.path) {\n        const re = pathToRegexp(e.path.toLocaleLowerCase().split('?')[0]);\n        if (re.exec(location.pathname.toLocaleLowerCase()) != null) {\n          e.isActive = true;\n          setNowIndex(index);\n        } else {\n          e.isActive = false;\n        }\n      }\n    })\n\n    setListCopy(listc);\n  }, [location]);\n  \n\n  const navClick = (e) => {\n    if (e.path) {\n      history.push(e.path);\n    }\n  };\n\n  return (\n    <Fragment>\n      {\n        listCopy && listCopy.length > 0 && (\n          <div className=\"navleft\">\n            <div className=\"navleft-now\">\n              {firstText || listCopy[nowIndex] && (listCopy[nowIndex].text || listCopy[nowIndex].tabName)}\n            </div>\n            <div className=\"navleft-list\">\n              {\n                listCopy.map((e, index) => {\n                  return (\n                    <div key={e.text} onClick={() => navClick(e)} className={`navleft-item ${e.isActive ? 'active' : ''}`}>\n                      <div>{e.text || e.tabName}</div>\n\n                      {\n                        e.isActive && <RightOutlined />\n                      }\n\n                      {\n                        e.tip && (\n                          <div className=\"navleft-tip\">{e.tip}</div>\n                        )\n                      }\n                    </div>\n                  );\n                })\n              }\n            </div>\n          </div>\n        )\n      }\n    </Fragment>\n  );\n}"]},"metadata":{},"sourceType":"module"}