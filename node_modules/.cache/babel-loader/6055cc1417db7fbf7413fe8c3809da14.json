{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Pagination}from'antd';import{useHistory}from'react-router-dom';import Layout from'../../components/Layout';import'./index.less';import LeftNav from'../../components/LeftNav';import RightTopNav from'../../components/RightTopNav';import ItemLikeNew from'../../components/ItemLikeNew';import{getParam}from'../../../utils/url';import{getSecInfos}from'../../../api/second';import{getIndexAllKindInfo}from'../../../api/index';export default function SecGonggao(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),pageSize=_useState6[0],setPageSize=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),total=_useState8[0],setTotal=_useState8[1];var history=useHistory();useEffect(function(){getData(page);},[history]);var getData=function getData(page){getIndexAllKindInfo({page:page,pageSize:pageSize,category:getParam('category')||'C010101'}).then(function(res){if(res.data){setList(res.data.jobs);setTotal(res.data.total);}});};var onChange=function onChange(index){setPage(index);getData(index);};var onNavChange=function onNavChange(){setPage(1);getData(1);};return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(\"div\",{className:\"erji\"},/*#__PURE__*/React.createElement(LeftNav,{onChange:onNavChange}),/*#__PURE__*/React.createElement(\"div\",{className:\"right\"},/*#__PURE__*/React.createElement(RightTopNav,null),/*#__PURE__*/React.createElement(\"div\",{className:\"news-list\"},list&&list.map(function(item,indexIndex){return/*#__PURE__*/React.createElement(ItemLikeNew,{pathName:\"normaldetail\",rightNav:+getParam('rightNav')+1,key:item.fairId,data:item,hasTime:true});})),/*#__PURE__*/React.createElement(Pagination,{defaultCurrent:1,current:page,onChange:onChange,total:total,showSizeChanger:false}))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/SecOtherWeb/index.js"],"names":["React","useState","useEffect","Pagination","useHistory","Layout","LeftNav","RightTopNav","ItemLikeNew","getParam","getSecInfos","getIndexAllKindInfo","SecGonggao","list","setList","page","setPage","pageSize","setPageSize","total","setTotal","history","getData","category","then","res","data","jobs","onChange","index","onNavChange","map","item","indexIndex","fairId"],"mappings":"kJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,MAA3B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CAEA,MAAO,cAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CAEA,OAASC,QAAT,KAAyB,oBAAzB,CAEA,OAASC,WAAT,KAA4B,qBAA5B,CACA,OACEC,mBADF,KAEQ,oBAFR,CAIA,cAAe,SAASC,CAAAA,UAAT,EAAsB,eAEXX,QAAQ,CAAC,IAAD,CAFG,wCAE5BY,IAF4B,eAEtBC,OAFsB,8BAGXb,QAAQ,CAAC,CAAD,CAHG,yCAG5Bc,IAH4B,eAGtBC,OAHsB,8BAIHf,QAAQ,CAAC,EAAD,CAJL,yCAI5BgB,QAJ4B,eAIlBC,WAJkB,8BAKTjB,QAAQ,CAAC,CAAD,CALC,yCAK5BkB,KAL4B,eAKrBC,QALqB,eAOnC,GAAMC,CAAAA,OAAO,CAAGjB,UAAU,EAA1B,CAEAF,SAAS,CAAC,UAAM,CACdoB,OAAO,CAACP,IAAD,CAAP,CACD,CAFQ,CAEN,CAACM,OAAD,CAFM,CAAT,CAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACP,IAAD,CAAU,CACxBJ,mBAAmB,CAAC,CAAEI,IAAI,CAAJA,IAAF,CAAQE,QAAQ,CAARA,QAAR,CAAkBM,QAAQ,CAAEd,QAAQ,CAAC,UAAD,CAAR,EAAwB,SAApD,CAAD,CAAnB,CAAqFe,IAArF,CAA0F,SAACC,GAAD,CAAS,CACjG,GAAIA,GAAG,CAACC,IAAR,CAAc,CACZZ,OAAO,CAACW,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAP,CACAP,QAAQ,CAACK,GAAG,CAACC,IAAJ,CAASP,KAAV,CAAR,CACD,CACF,CALD,EAMD,CAPD,CASA,GAAMS,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CAC1Bb,OAAO,CAACa,KAAD,CAAP,CACAP,OAAO,CAACO,KAAD,CAAP,CACD,CAHD,CAKA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBd,OAAO,CAAC,CAAD,CAAP,CACAM,OAAO,CAAC,CAAD,CAAP,CACD,CAHD,CAKA,mBACE,oBAAC,MAAD,mBACE,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,OAAD,EACE,QAAQ,CAAEQ,WADZ,EADF,cAKE,2BAAK,SAAS,CAAC,OAAf,eACE,oBAAC,WAAD,MADF,cAEE,2BAAK,SAAS,CAAC,WAAf,EAEIjB,IAAI,EAAIA,IAAI,CAACkB,GAAL,CAAS,SAACC,IAAD,CAAOC,UAAP,CAAsB,CACrC,mBAAO,oBAAC,WAAD,EAAa,QAAQ,CAAC,cAAtB,CAAqC,QAAQ,CAAE,CAACxB,QAAQ,CAAC,UAAD,CAAT,CAAwB,CAAvE,CAA0E,GAAG,CAAEuB,IAAI,CAACE,MAApF,CAA4F,IAAI,CAAEF,IAAlG,CAAwG,OAAO,KAA/G,EAAP,CACD,CAFO,CAFZ,CAFF,cAUE,oBAAC,UAAD,EAAY,cAAc,CAAE,CAA5B,CAA+B,OAAO,CAAEjB,IAAxC,CAA8C,QAAQ,CAAEa,QAAxD,CAAkE,KAAK,CAAET,KAAzE,CAAgF,eAAe,CAAE,KAAjG,EAVF,CALF,CADF,CADF,CAsBD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Pagination } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nimport Layout from '../../components/Layout';\n\nimport './index.less';\nimport LeftNav from '../../components/LeftNav';\nimport RightTopNav from '../../components/RightTopNav';\nimport ItemLikeNew from '../../components/ItemLikeNew';\n\nimport { getParam } from '../../../utils/url';\n\nimport { getSecInfos } from '../../../api/second';\nimport { \n  getIndexAllKindInfo,\n } from '../../../api/index';\n\nexport default function SecGonggao() {\n\n  const [list, setList] = useState(null);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [total, setTotal] = useState(1);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getData(page);\n  }, [history]);\n\n  const getData = (page) => {\n    getIndexAllKindInfo({ page, pageSize, category: getParam('category') || 'C010101' }).then((res) => {\n      if (res.data) {\n        setList(res.data.jobs);\n        setTotal(res.data.total);\n      }\n    });\n  }\n\n  const onChange = (index) => {\n    setPage(index);\n    getData(index);\n  };\n\n  const onNavChange = () => {\n    setPage(1);\n    getData(1);\n  };\n\n  return (\n    <Layout>\n      <div className=\"erji\">\n        <LeftNav\n          onChange={onNavChange}\n        />\n        \n        <div className=\"right\">\n          <RightTopNav />\n          <div className=\"news-list\">\n            {\n              list && list.map((item, indexIndex) => {\n                return <ItemLikeNew pathName=\"normaldetail\" rightNav={+getParam('rightNav') + 1} key={item.fairId} data={item} hasTime />\n              })\n            }\n          </div>\n\n          <Pagination defaultCurrent={1} current={page} onChange={onChange} total={total} showSizeChanger={false} />\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}