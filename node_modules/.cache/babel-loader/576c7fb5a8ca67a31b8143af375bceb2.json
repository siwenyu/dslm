{"ast":null,"code":"var _jsxFileName = \"/Users/ss/Desktop/work/dslm/src/page/SecOtherWeb/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Pagination } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport Layout from '../../components/Layout';\nimport './index.less';\nimport LeftNav from '../../components/LeftNav';\nimport RightTopNav from '../../components/RightTopNav';\nimport ItemLikeNew from '../../components/ItemLikeNew';\nimport { getParam } from '../../../utils/url';\nimport { getSecInfos } from '../../../api/second';\nimport { getIndexAllKindInfo } from '../../../api/index';\nexport default function SecGonggao() {\n  const [list, setList] = useState(null);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [total, setTotal] = useState(1);\n  const history = useHistory();\n  useEffect(() => {\n    getData(page);\n  }, [history]);\n\n  const getData = page => {\n    getIndexAllKindInfo({\n      page,\n      pageSize,\n      category: getParam('category') || 'C010101'\n    }).then(res => {\n      if (res.data) {\n        setList(res.data.jobs);\n        setTotal(res.data.total);\n      }\n    });\n  };\n\n  const onChange = index => {\n    setPage(index);\n    getData(index);\n  };\n\n  const onNavChange = () => {\n    setPage(1);\n    getData(1);\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(LeftNav, {\n    onChange: onNavChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RightTopNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, list && list.map((item, indexIndex) => {\n    return /*#__PURE__*/React.createElement(ItemLikeNew, {\n      pathName: \"normaldetail\",\n      rightNav: +getParam('rightNav') + 1,\n      key: item.fairId,\n      data: item,\n      hasTime: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 24\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Pagination, {\n    defaultCurrent: 1,\n    current: page,\n    onChange: onChange,\n    total: total,\n    showSizeChanger: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/SecOtherWeb/index.js"],"names":["React","useState","useEffect","Pagination","useHistory","Layout","LeftNav","RightTopNav","ItemLikeNew","getParam","getSecInfos","getIndexAllKindInfo","SecGonggao","list","setList","page","setPage","pageSize","setPageSize","total","setTotal","history","getData","category","then","res","data","jobs","onChange","index","onNavChange","map","item","indexIndex","fairId"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,OAAO,cAAP;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AACA,OAAOC,WAAP,MAAwB,8BAAxB;AAEA,SAASC,QAAT,QAAyB,oBAAzB;AAEA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SACEC,mBADF,QAEQ,oBAFR;AAIA,eAAe,SAASC,UAAT,GAAsB;AAEnC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACc,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACkB,KAAD,EAAQC,QAAR,IAAoBnB,QAAQ,CAAC,CAAD,CAAlC;AAEA,QAAMoB,OAAO,GAAGjB,UAAU,EAA1B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACdoB,IAAAA,OAAO,CAACP,IAAD,CAAP;AACD,GAFQ,EAEN,CAACM,OAAD,CAFM,CAAT;;AAIA,QAAMC,OAAO,GAAIP,IAAD,IAAU;AACxBJ,IAAAA,mBAAmB,CAAC;AAAEI,MAAAA,IAAF;AAAQE,MAAAA,QAAR;AAAkBM,MAAAA,QAAQ,EAAEd,QAAQ,CAAC,UAAD,CAAR,IAAwB;AAApD,KAAD,CAAnB,CAAqFe,IAArF,CAA2FC,GAAD,IAAS;AACjG,UAAIA,GAAG,CAACC,IAAR,EAAc;AACZZ,QAAAA,OAAO,CAACW,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAP;AACAP,QAAAA,QAAQ,CAACK,GAAG,CAACC,IAAJ,CAASP,KAAV,CAAR;AACD;AACF,KALD;AAMD,GAPD;;AASA,QAAMS,QAAQ,GAAIC,KAAD,IAAW;AAC1Bb,IAAAA,OAAO,CAACa,KAAD,CAAP;AACAP,IAAAA,OAAO,CAACO,KAAD,CAAP;AACD,GAHD;;AAKA,QAAMC,WAAW,GAAG,MAAM;AACxBd,IAAAA,OAAO,CAAC,CAAD,CAAP;AACAM,IAAAA,OAAO,CAAC,CAAD,CAAP;AACD,GAHD;;AAKA,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AACE,IAAA,QAAQ,EAAEQ,WADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAKE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIjB,IAAI,IAAIA,IAAI,CAACkB,GAAL,CAAS,CAACC,IAAD,EAAOC,UAAP,KAAsB;AACrC,wBAAO,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAC,cAAtB;AAAqC,MAAA,QAAQ,EAAE,CAACxB,QAAQ,CAAC,UAAD,CAAT,GAAwB,CAAvE;AAA0E,MAAA,GAAG,EAAEuB,IAAI,CAACE,MAApF;AAA4F,MAAA,IAAI,EAAEF,IAAlG;AAAwG,MAAA,OAAO,MAA/G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFO,CAFZ,CAFF,eAUE,oBAAC,UAAD;AAAY,IAAA,cAAc,EAAE,CAA5B;AAA+B,IAAA,OAAO,EAAEjB,IAAxC;AAA8C,IAAA,QAAQ,EAAEa,QAAxD;AAAkE,IAAA,KAAK,EAAET,KAAzE;AAAgF,IAAA,eAAe,EAAE,KAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CALF,CADF,CADF;AAsBD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Pagination } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nimport Layout from '../../components/Layout';\n\nimport './index.less';\nimport LeftNav from '../../components/LeftNav';\nimport RightTopNav from '../../components/RightTopNav';\nimport ItemLikeNew from '../../components/ItemLikeNew';\n\nimport { getParam } from '../../../utils/url';\n\nimport { getSecInfos } from '../../../api/second';\nimport { \n  getIndexAllKindInfo,\n } from '../../../api/index';\n\nexport default function SecGonggao() {\n\n  const [list, setList] = useState(null);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [total, setTotal] = useState(1);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getData(page);\n  }, [history]);\n\n  const getData = (page) => {\n    getIndexAllKindInfo({ page, pageSize, category: getParam('category') || 'C010101' }).then((res) => {\n      if (res.data) {\n        setList(res.data.jobs);\n        setTotal(res.data.total);\n      }\n    });\n  }\n\n  const onChange = (index) => {\n    setPage(index);\n    getData(index);\n  };\n\n  const onNavChange = () => {\n    setPage(1);\n    getData(1);\n  };\n\n  return (\n    <Layout>\n      <div className=\"erji\">\n        <LeftNav\n          onChange={onNavChange}\n        />\n        \n        <div className=\"right\">\n          <RightTopNav />\n          <div className=\"news-list\">\n            {\n              list && list.map((item, indexIndex) => {\n                return <ItemLikeNew pathName=\"normaldetail\" rightNav={+getParam('rightNav') + 1} key={item.fairId} data={item} hasTime />\n              })\n            }\n          </div>\n\n          <Pagination defaultCurrent={1} current={page} onChange={onChange} total={total} showSizeChanger={false} />\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}