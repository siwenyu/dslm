{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Tabs}from'antd';import _ from'lodash';import LoadWrap from'../LoadWrap';import'./index.less';import{getSecInfos}from'../../../api/second';import HomeMore from'../HomeMore';import NormalList from'../NormalList';var TabPane=Tabs.TabPane;export default function HomeZhaopin(_ref){var tabData=_ref.tabData,showNum=_ref.showNum,hasTime=_ref.hasTime,hasBefore=_ref.hasBefore,pathName=_ref.pathName;var _tabData=_.cloneWith(tabData);useEffect(function(){// 招聘须知\ngetSecInfos({page:1,pageSize:3,category:'C030301'}).then(function(res){console.log('招聘须知');console.log(res);// alert(JSON.stringify(res.data))\nif(res.data&&res.data.infos){_tabData[0].list=res.data.infos;}});// 场地介绍\ngetSecInfos({page:1,pageSize:3,category:'C030401'}).then(function(res){console.log('场地介绍');console.log(res);if(res.data&&res.data.infos){_tabData[1].list=res.data.infos;}});},[tabData]);tabData.forEach(function(e,index){tabData[index].list=e.list.slice(0,showNum||8);});var _useState=useState(tabData[0].link),_useState2=_slicedToArray(_useState,2),moreLink=_useState2[0],setMoreLink=_useState2[1];var callback=function callback(data){setMoreLink(tabData[data-1].link);};return/*#__PURE__*/React.createElement(\"div\",{className:\"normal-tablist\"},/*#__PURE__*/React.createElement(\"div\",{className:\"normal-tablist-more\"},/*#__PURE__*/React.createElement(HomeMore,{link:moreLink})),/*#__PURE__*/React.createElement(LoadWrap,{data:tabData},/*#__PURE__*/React.createElement(Tabs,{defaultActiveKey:\"1\",onChange:callback},tabData.map(function(e){return/*#__PURE__*/React.createElement(TabPane,{tab:e.tabName,key:e.key},/*#__PURE__*/React.createElement(NormalList,{pathName:pathName,list:e.list,hasTime:false,showNum:showNum,hasBefore:true}));}))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/components/NormalTabList/index.js"],"names":["React","useEffect","useState","Tabs","_","LoadWrap","getSecInfos","HomeMore","NormalList","TabPane","HomeZhaopin","tabData","showNum","hasTime","hasBefore","pathName","_tabData","cloneWith","page","pageSize","category","then","res","console","log","data","infos","list","forEach","e","index","slice","link","moreLink","setMoreLink","callback","map","tabName","key"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Tabs } from 'antd';\nimport _ from 'lodash';\n\nimport LoadWrap from '../LoadWrap';\n\nimport './index.less';\n\nimport { getSecInfos } from '../../../api/second';\n\nimport HomeMore from '../HomeMore';\nimport NormalList from '../NormalList';\n\nconst { TabPane } = Tabs;\n\nexport default function HomeZhaopin({\n  tabData,\n  showNum,\n  hasTime,\n  hasBefore,\n  pathName,\n}) {\n  const _tabData = _.cloneWith(tabData);\n  useEffect(() => {\n\n    // 招聘须知\n    getSecInfos({ page: 1, pageSize: 3, category: 'C030301' }).then((res) => {\n      console.log('招聘须知');\n      console.log(res);\n      // alert(JSON.stringify(res.data))\n      if (res.data && res.data.infos) {\n        _tabData[0].list = res.data.infos;\n      }\n    });\n\n    // 场地介绍\n    getSecInfos({ page: 1, pageSize: 3, category: 'C030401' }).then((res) => {\n      console.log('场地介绍');\n      console.log(res);\n      if (res.data && res.data.infos) {\n        _tabData[1].list = res.data.infos;\n      }\n    });\n  }, [tabData]);\n  tabData.forEach((e, index) => {\n    tabData[index].list = e.list.slice(0, showNum || 8);\n  });\n\n  const [moreLink, setMoreLink] = useState(tabData[0].link);\n\n  const callback = (data) => {\n    setMoreLink(tabData[data - 1].link);\n  };\n  \n  return (\n    <div className=\"normal-tablist\">\n      <div className=\"normal-tablist-more\">\n        <HomeMore link={moreLink} />\n      </div>\n      <LoadWrap data={tabData}>\n        <Tabs defaultActiveKey=\"1\" onChange={callback}>\n          {\n            tabData.map(e => {\n              return (\n                <TabPane tab={e.tabName} key={e.key}>\n                  <NormalList pathName={pathName} list={e.list} hasTime={false} showNum={showNum} hasBefore={true} />\n                </TabPane>\n              )\n            })\n          }\n        </Tabs>\n      </LoadWrap>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}