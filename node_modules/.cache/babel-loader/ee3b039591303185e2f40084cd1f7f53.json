{"ast":null,"code":"var _jsxFileName = \"/Users/ss/Desktop/work/dslm/src/components/Header/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport _ from 'lodash';\nimport './index.less';\nimport { navList, loginType, showSubNav } from './constants';\n\nconst subHot = require('../../assets/images/nav-hot.png');\n\nconst URLParse = require('url-parse');\n\nconst queryString = require('qs');\n\nexport default function Header() {\n  const [nav, setNav] = useState([]);\n  const history = useHistory();\n  let location = useLocation(); // 获取url高亮\n\n  const urlObj = URLParse(window.location.href);\n  const queryParams = queryString.parse(urlObj.query.replace('?', ''));\n  let nowNavIndex = 0;\n\n  if (queryParams.headerNav) {\n    nowNavIndex = queryParams.headerNav - 10;\n  }\n\n  useEffect(() => {\n    const navCopy = _.cloneDeepWith(navList);\n\n    navCopy.forEach((e, index) => {\n      if (index === nowNavIndex) {\n        navCopy[index].isActive = true;\n      } else {\n        navCopy[index].isActive = false;\n      }\n    });\n    setNav(navCopy);\n  }, [location]);\n\n  const login = link => {\n    window.open(link);\n  };\n\n  const navClick = e => {\n    console.log('点击了');\n    console.log(e);\n\n    if (e.text === '东师就业中心') {\n      window.open(e.path);\n    } else {\n      history.push(e.path);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"first-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    onClick: () => history.push('/home'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, loginType.map(e => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: e.text,\n      onClick: () => login(e.link),\n      className: \"login-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"\",\n      src: e.icon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }), e.text);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, nav.map(e => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: e.text,\n      onClick: () => navClick(e),\n      style: {\n        backgroundColor: e.color\n      },\n      className: `nav-item ${e.isActive ? 'active' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, e.text);\n  })));\n}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/components/Header/index.js"],"names":["React","useState","useEffect","useHistory","useLocation","_","navList","loginType","showSubNav","subHot","require","URLParse","queryString","Header","nav","setNav","history","location","urlObj","window","href","queryParams","parse","query","replace","nowNavIndex","headerNav","navCopy","cloneDeepWith","forEach","e","index","isActive","login","link","open","navClick","console","log","text","path","push","map","icon","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport _ from 'lodash';\n\nimport './index.less';\n\nimport { navList, loginType, showSubNav } from './constants';\n\n\nconst subHot = require('../../assets/images/nav-hot.png');\n\nconst URLParse = require('url-parse');\nconst queryString = require('qs');\n\nexport default function Header() {\n\n  const [nav, setNav] = useState([]);\n\n  const history = useHistory();\n  let location = useLocation();\n\n  // 获取url高亮\n  const urlObj = URLParse(window.location.href);\n  const queryParams = queryString.parse(urlObj.query.replace('?', ''));\n  let nowNavIndex = 0;\n  if (queryParams.headerNav) {\n    nowNavIndex = queryParams.headerNav - 10;\n  }\n\n  useEffect(() => {\n    const navCopy = _.cloneDeepWith(navList);\n    \n    navCopy.forEach((e, index) => {\n      if (index === nowNavIndex) {\n        navCopy[index].isActive = true;\n      } else {\n        navCopy[index].isActive = false;\n      }\n    });\n    setNav(navCopy);\n  }, [location]);\n\n  const login = (link) => {\n    window.open(link);\n  };\n\n  const navClick = (e) => {\n    console.log('点击了');\n    console.log(e);\n    if (e.text === '东师就业中心') {\n      window.open(e.path);\n    } else {\n      history.push(e.path);\n    }\n  };\n\n  return (\n    <div className=\"header-wrap\">\n      <div className=\"header\">\n        <div className=\"first-line\">\n          <div className=\"logo\" onClick={() => history.push('/home')}></div>\n          <div className=\"login\">\n            {\n              loginType.map(e => {\n                return (\n                  <div key={e.text} onClick={() => login(e.link)} className=\"login-item\">\n                    <img alt=\"\" src={e.icon} />\n                    {e.text}\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>\n      </div>\n      <div className=\"nav\">\n        {\n          nav.map(e => {\n            return (\n              <div\n                key={e.text}\n                onClick={() => navClick(e)}\n                style={{ backgroundColor: e.color }}\n                className={`nav-item ${e.isActive ? 'active': ''}`}\n              >\n                {e.text}\n              </div>\n            )\n          })\n        }\n        </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}