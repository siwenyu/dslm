{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useEffect}from'react';import{useHistory}from'react-router-dom';import{RightOutlined}from'@ant-design/icons';import Layout from'../../components/Layout';import ErjiDetailKeys from'../../components/ErjiDetailKeys';import SubmitResume from'../../components/SubmitResume';import{getSecJobDetail}from'../../../api/second';import'./index.less';import RightTopNav from'../../components/RightTopNav';import{getParam}from'../../../utils/url';export default function DetailJob(){var _detail$company,_detail$company2;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),detail=_useState2[0],setDetail=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listData=_useState4[0],setListData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),listContactData=_useState6[0],setListContactData=_useState6[1];var history=useHistory();useEffect(function(){getData();},[history]);var getData=function getData(){getSecJobDetail({jobId:getParam('id')}).then(function(res){if(res.data&&res.data.job){var _data$company,_data$company$region,_data$company2,_data$company2$region;var _data=res.data.job;// 专业\nvar _majors='';_data.majors.forEach(function(element,index){_majors+=element.major;if(index>0){_majors+='/';}});_data.majors=_majors;var _listData=[{key:'职位类型',value:_data.series.name},{key:'所需专业',value:_data.allMajors===true?'不限专业':\"\".concat(_data.majors)},{key:'工作地点',value:_data.allRegions===true?'全国':\"\".concat(((_data$company=_data.company)===null||_data$company===void 0?void 0:(_data$company$region=_data$company.region)===null||_data$company$region===void 0?void 0:_data$company$region.city)||((_data$company2=_data.company)===null||_data$company2===void 0?void 0:(_data$company2$region=_data$company2.region)===null||_data$company2$region===void 0?void 0:_data$company2$region.province))},{key:'学历要求',value:_data.education||'暂无'},{key:'招聘人数',value:_data.headCount||'暂无'}];setListData(_listData);// _data.tag = [21321,12312];\nsetDetail(_data);}});};var btnClick=function btnClick(){window.open('http://careers.nenu.edu.cn/login/company');};return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(\"div\",{className:\"erji job-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"right\"},/*#__PURE__*/React.createElement(RightTopNav,null),/*#__PURE__*/React.createElement(\"div\",{className:\"normal-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"erji-title\"},detail.name),/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-m erji-gray-bg-text\"},/*#__PURE__*/React.createElement(\"span\",null,detail.publishTime,\"\\u53D1\\u5E03\")),/*#__PURE__*/React.createElement(\"div\",{className:\"detail-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title18\"},(_detail$company=detail.company)===null||_detail$company===void 0?void 0:_detail$company.name),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},(_detail$company2=detail.company)===null||_detail$company2===void 0?void 0:_detail$company2.address))),detail.tag&&detail.tag.length>0&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-l erji-normal-title\"},\"\\u804C\\u4F4D\\u4EAE\\u70B9\"),/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-m liangdian-list\"},detail.tag.map(function(e){return/*#__PURE__*/React.createElement(\"div\",{className:\"item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"before\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},e));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-l erji-normal-title\"},\"\\u804C\\u4F4D\\u60C5\\u51B5\"),/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-m\"},/*#__PURE__*/React.createElement(ErjiDetailKeys,{list:listData})),detail.requirements&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-l erji-normal-title\"},\"\\u5C97\\u4F4D\\u804C\\u8D23\"),/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-m pre-content\",dangerouslySetInnerHTML:{__html:\"\".concat(detail.duties||'')}})),detail.requirements&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-l erji-normal-title\"},\"\\u804C\\u4F4D\\u8981\\u6C42\"),/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-m pre-content\",dangerouslySetInnerHTML:{__html:\"\".concat(detail.requirements||'')}}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(SubmitResume,null))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/DetailJob/index.js"],"names":["React","useState","Fragment","useEffect","useHistory","RightOutlined","Layout","ErjiDetailKeys","SubmitResume","getSecJobDetail","RightTopNav","getParam","DetailJob","detail","setDetail","listData","setListData","listContactData","setListContactData","history","getData","jobId","then","res","data","job","_data","_majors","majors","forEach","element","index","major","_listData","key","value","series","name","allMajors","allRegions","company","region","city","province","education","headCount","btnClick","window","open","publishTime","address","tag","length","map","e","requirements","__html","duties"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { RightOutlined } from '@ant-design/icons';\n\nimport Layout from '../../components/Layout';\nimport ErjiDetailKeys from '../../components/ErjiDetailKeys';\nimport SubmitResume from '../../components/SubmitResume';\n\nimport { getSecJobDetail } from '../../../api/second';\n\nimport './index.less';\nimport RightTopNav from '../../components/RightTopNav';\n\nimport { getParam } from '../../../utils/url';\n\nexport default function DetailJob() {\n  const [detail, setDetail] = useState({});\n  const [listData, setListData] = useState([]);\n  const [listContactData, setListContactData] = useState([]);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getData();\n  }, [history]);\n\n  const getData = () => {\n    getSecJobDetail({ jobId: getParam('id') }).then((res) => {\n      if (res.data && res.data.job) {\n        const _data = res.data.job;\n        // 专业\n        let _majors = '';\n        _data.majors.forEach((element, index) => {\n          _majors += element.major;\n          if ( index> 0) {\n            _majors += '/';\n          }\n        });\n        _data.majors = _majors;\n        const _listData = [\n          {\n            key: '职位类型',\n            value: _data.series.name,\n          },\n          {\n            key: '所需专业',\n            value: _data.allMajors === true ? '不限专业' : `${_data.majors}`,\n          },\n          {\n            key: '工作地点',\n            value: _data.allRegions === true ? '全国' : `${_data.company?.region?.city || _data.company?.region?.province}`,\n          },\n          {\n            key: '学历要求',\n            value: _data.education || '暂无',\n          },\n          {\n            key: '招聘人数',\n            value: _data.headCount || '暂无',\n          },\n        ];\n        setListData(_listData);\n\n        // _data.tag = [21321,12312];\n        \n        setDetail(_data);\n      }\n      \n      \n      \n    });\n  }\n\n  const btnClick = () => {\n    window.open('http://careers.nenu.edu.cn/login/company');\n  }\n\n  return (\n    <Layout>\n      <div className=\"erji job-detail\">\n        <div className=\"right\">\n          <RightTopNav />\n          <div className=\"normal-detail\">\n            <div className=\"erji-title\">{detail.name}</div>\n            <div className=\"gap-top-m erji-gray-bg-text\">\n              <span>{detail.publishTime}发布</span>\n            </div>\n\n            <div className=\"detail-wrap\">\n              <div className=\"\">\n                <div className=\"title18\">{detail.company?.name}</div>\n                <div className=\"\">{detail.company?.address}</div>\n              </div>\n              {/* <div onClick={() => window.open(`/xuexiaozhuye?headerNav=11&secLNav=11&companyId=${detail.company?.companyId}`)} className=\"link\">查看详细 <RightOutlined /></div> */}\n            </div>\n\n            {/* 职位亮点 */}\n            {\n              detail.tag && detail.tag.length > 0 && (\n                <Fragment>\n                  <div className=\"gap-top-l erji-normal-title\">职位亮点</div>\n                  <div className=\"gap-top-m liangdian-list\">\n                    {\n                      detail.tag.map(e => {\n                        return (\n                          <div className=\"item\">\n                            <div className=\"before\"></div>\n                            <div className=\"title\">{e}</div>\n                          </div>\n                        )\n                      })\n                    }\n                  </div>\n                </Fragment>\n              )\n            }\n\n            {/* 职位情况 */}\n            <div className=\"gap-top-l erji-normal-title\">职位情况</div>\n            <div className=\"gap-top-m\">\n              <ErjiDetailKeys list={listData} />\n            </div>\n\n            {/* 岗位职责 */}\n            {\n              detail.requirements && (\n                <Fragment>\n                  <div className=\"gap-top-l erji-normal-title\">岗位职责</div>\n                  <div className=\"gap-top-m pre-content\" dangerouslySetInnerHTML={{__html: `${detail.duties || ''}`}}></div>\n                </Fragment>\n              )\n            }\n\n            {/* 职位要求 */}\n            {\n              detail.requirements && (\n                <Fragment>\n                  <div className=\"gap-top-l erji-normal-title\">职位要求</div>\n                  <div className=\"gap-top-m pre-content\" dangerouslySetInnerHTML={{__html: `${detail.requirements || ''}`}}></div>\n                </Fragment>\n              )\n            }\n          </div>\n          <br />\n          <br />\n\n          <SubmitResume />\n        </div>\n      </div>\n    </Layout>\n  );\n}"]},"metadata":{},"sourceType":"module"}