{"ast":null,"code":"var _jsxFileName = \"/Users/ss/Desktop/work/dslm/src/page/CompanyHomeWithFairs/index.js\";\nimport React, { useState, Fragment, useEffect } from 'react';\nimport { RightOutlined } from '@ant-design/icons';\nimport { Table } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport Layout from '../../components/Layout';\nimport ErjiDetailKeys from '../../components/ErjiDetailKeys';\nimport SubmitResume from '../../components/SubmitResume';\nimport { getCompanyWithFair } from '../../../api/second';\nimport './index.less';\nimport RightTopNav from '../../components/RightTopNav';\nimport { getParam } from '../../../utils/url';\nconst columns = [{\n  title: '职位名称',\n  dataIndex: 'name',\n  key: 'name'\n}, {\n  title: '需求人数',\n  dataIndex: 'number',\n  key: 'number',\n  width: 100\n}, {\n  title: '需求专业',\n  dataIndex: 'major',\n  key: 'major',\n  width: 300\n}, {\n  title: '投简历',\n  dataIndex: 'jobId',\n  key: 'jobId',\n  width: 140,\n  render: () => /*#__PURE__*/React.createElement(SubmitResume, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 19\n    }\n  })\n}];\nexport default function CompanyHomeWithFairs() {\n  var _detail$company, _detail$logo, _detail$fairJobs;\n\n  const [detail, setDetail] = useState({});\n  const [listData, setListData] = useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    getData();\n  }, [history]);\n\n  const getData = () => {\n    getCompanyWithFair({\n      companyId: getParam('companyId'),\n      fairId: getParam('fairId')\n    }).then(res => {\n      if (res.data && res.data.fairCompany) {\n        var _data$company, _data$company2, _data$company3, _data$company$nature, _data$company4;\n\n        const _data = res.data.fairCompany;\n\n        const _industry = ((_data$company = _data.company) === null || _data$company === void 0 ? void 0 : _data$company.industry) || null;\n\n        const _listData = [{\n          key: '官网地址',\n          value: ((_data$company2 = _data.company) === null || _data$company2 === void 0 ? void 0 : _data$company2.website) || '暂无',\n          link: ((_data$company3 = _data.company) === null || _data$company3 === void 0 ? void 0 : _data$company3.website) || '',\n          linkText: ''\n        }, {\n          key: '领域',\n          value: _industry ? _industry.industryTiny || _industry.industrySmall || _industry.industryMiddle || _industry.industryBig : '暂无'\n        }, {\n          key: '规模',\n          value: _data.company.staffs || '暂无'\n        }, {\n          key: '单位性质',\n          value: ((_data$company$nature = _data.company.nature) === null || _data$company$nature === void 0 ? void 0 : _data$company$nature.name) || '暂无'\n        }, {\n          key: '地址',\n          value: `${(_data$company4 = _data.company) === null || _data$company4 === void 0 ? void 0 : _data$company4.address}`\n        }];\n        setListData(_listData);\n\n        _data.fairJobs.forEach(e => {\n          e.name = e.job.name;\n          e.number = e.job.headCount || 0; // 专业\n\n          if (e.job.allMajors) {\n            e.major = '专业不限';\n          } else {\n            let majorArr = [];\n            e.job.majors.forEach(item => majorArr.push(item.major || item.middleKind));\n            e.major = `${majorArr.join('、')}`;\n          }\n        });\n\n        setDetail(_data);\n      }\n    });\n  };\n\n  const btnClick = () => {\n    window.open('');\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji company-fairs-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RightTopNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"normal-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, (_detail$company = detail.company) === null || _detail$company === void 0 ? void 0 : _detail$company.name), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      window.open(`/xuexiaozhuye?headerNav=11&secLNav=11&companyId=${detail.company.companyId}`);\n    },\n    className: \"more\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"\\u67E5\\u770B\\u8BE6\\u7EC6\"), /*#__PURE__*/React.createElement(RightOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"company-info gap-top-m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"company-logo gap-right-m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: ((_detail$logo = detail.logo) === null || _detail$logo === void 0 ? void 0 : _detail$logo.url) || window.defaultLogo,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ErjiDetailKeys, {\n    list: listData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-l erji-normal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, \"\\u62DB\\u8058\\u804C\\u4F4D\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }, ((_detail$fairJobs = detail.fairJobs) === null || _detail$fairJobs === void 0 ? void 0 : _detail$fairJobs.length) || 0)), /*#__PURE__*/React.createElement(Table, {\n    pagination: false,\n    dataSource: detail.fairJobs,\n    columns: columns,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/CompanyHomeWithFairs/index.js"],"names":["React","useState","Fragment","useEffect","RightOutlined","Table","useHistory","Layout","ErjiDetailKeys","SubmitResume","getCompanyWithFair","RightTopNav","getParam","columns","title","dataIndex","key","width","render","CompanyHomeWithFairs","detail","setDetail","listData","setListData","history","getData","companyId","fairId","then","res","data","fairCompany","_data","_industry","company","industry","_listData","value","website","link","linkText","industryTiny","industrySmall","industryMiddle","industryBig","staffs","nature","name","address","fairJobs","forEach","e","job","number","headCount","allMajors","major","majorArr","majors","item","push","middleKind","join","btnClick","window","open","logo","url","defaultLogo","length"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react';\nimport { RightOutlined } from '@ant-design/icons';\nimport { Table } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nimport Layout from '../../components/Layout';\nimport ErjiDetailKeys from '../../components/ErjiDetailKeys';\nimport SubmitResume from '../../components/SubmitResume';\n\nimport { getCompanyWithFair } from '../../../api/second';\n\nimport './index.less';\nimport RightTopNav from '../../components/RightTopNav';\n\nimport { getParam } from '../../../utils/url';\n\nconst columns = [\n  {\n    title: '职位名称',\n    dataIndex: 'name',\n    key: 'name',\n  },\n  {\n    title: '需求人数',\n    dataIndex: 'number',\n    key: 'number',\n    width: 100,\n  },\n  {\n    title: '需求专业',\n    dataIndex: 'major',\n    key: 'major',\n    width: 300,\n  },\n  {\n    title: '投简历',\n    dataIndex: 'jobId',\n    key: 'jobId',\n    width: 140,\n    render: () => <SubmitResume />\n  },\n];\n\nexport default function CompanyHomeWithFairs() {\n  const [detail, setDetail] = useState({});\n  const [listData, setListData] = useState([]);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getData();\n  }, [history]);\n\n  const getData = () => {\n    getCompanyWithFair({ companyId: getParam('companyId'), fairId: getParam('fairId') }).then((res) => {\n      if (res.data && res.data.fairCompany) {\n        const _data = res.data.fairCompany;\n        const  _industry = _data.company?.industry || null;\n        const _listData = [\n          {\n            key: '官网地址',\n            value: _data.company?.website || '暂无',\n            link: _data.company?.website || '',\n            linkText: '',\n          },\n          {\n            key: '领域',\n            value: _industry ? (_industry.industryTiny || _industry.industrySmall || _industry.industryMiddle || _industry.industryBig) : '暂无',\n          },\n          {\n            key: '规模',\n            value: _data.company.staffs || '暂无',\n          },\n          {\n            key: '单位性质',\n            value: _data.company.nature?.name || '暂无',\n          },\n          {\n            key: '地址',\n            value: `${_data.company?.address}`,\n          }\n        ];\n        setListData(_listData);\n\n        _data.fairJobs.forEach(e => {\n          e.name = e.job.name;\n          e.number = e.job.headCount || 0;\n          \n          // 专业\n          if (e.job.allMajors) {\n            e.major = '专业不限';\n          } else {\n            let majorArr = [];\n            e.job.majors.forEach(item => majorArr.push(item.major || item.middleKind));\n            e.major = `${majorArr.join('、')}`;\n          }\n        })\n        setDetail(_data);\n      }\n    });\n  }\n\n  const btnClick = () => {\n    window.open('');\n  }\n\n  return (\n    <Layout>\n      <div className=\"erji company-fairs-detail\">\n        <div className=\"right\">\n          <RightTopNav />\n          <div className=\"normal-detail\">\n            <div className=\"erji-title\">\n              <span>{detail.company?.name}</span>\n              <div onClick={() => { window.open(`/xuexiaozhuye?headerNav=11&secLNav=11&companyId=${detail.company.companyId}`) }} className=\"more\">\n                <span>查看详细</span>\n                <RightOutlined />\n              </div>\n            </div>\n            <div className=\"company-info gap-top-m\">\n              <div className=\"company-logo gap-right-m\">\n                <img src={detail.logo?.url || window.defaultLogo} alt=\"\" />\n              </div>\n              <div className=\"list\">\n                <ErjiDetailKeys list={listData} />\n              </div>\n            </div>\n            \n            {/* 招聘职位 */}\n            <div className=\"gap-top-l erji-normal-title\">\n              招聘职位\n              <span>{detail.fairJobs?.length || 0}</span>\n            </div>\n\n            <Table pagination={false} dataSource={detail.fairJobs} columns={columns} />\n\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}"]},"metadata":{},"sourceType":"module"}