{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectDestructuringEmpty from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";import React,{useState,useEffect}from'react';import{useHistory,useLocation}from\"react-router-dom\";import{routeList}from'../../router';import'./index.less';import{rightTopNavList}from'../../assets/constants';var _require=require(\"path-to-regexp\"),pathToRegexp=_require.pathToRegexp;var URLParse=require('url-parse');var queryString=require('qs');export default function RightTopNav(_ref){_objectDestructuringEmpty(_ref);var location=useLocation();var urlObj=URLParse(window.location.href);var queryParams=queryString.parse(urlObj.query.replace('?',''));var _useState=useState([]),_useState2=_slicedToArray(_useState,2),navData=_useState2[0],setNavData=_useState2[1];useEffect(function(){if(rightTopNavList[queryParams.secRNav]){setNavData(rightTopNavList[queryParams.secRNav]);}else{routeList.map(function(e,index){var re=pathToRegexp(e.path.toLocaleLowerCase().split('?')[0]);if(re.exec(location.pathname.toLocaleLowerCase())!=null){setNavData(e.navData);}});}// 滚动到顶部\nwindow.scrollTo({left:0,top:0,behavior:'smooth'});},[location]);return/*#__PURE__*/React.createElement(\"div\",{className:\"right-top-nav\"},/*#__PURE__*/React.createElement(\"span\",null,\"\\u9996\\u9875 \\xA0\",navData.length>0&&navData.map(function(e){return/*#__PURE__*/React.createElement(\"span\",{key:e},\" / \\xA0\",e);})));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/components/RightTopNav/index.js"],"names":["React","useState","useEffect","useHistory","useLocation","routeList","rightTopNavList","require","pathToRegexp","URLParse","queryString","RightTopNav","location","urlObj","window","href","queryParams","parse","query","replace","navData","setNavData","secRNav","map","e","index","re","path","toLocaleLowerCase","split","exec","pathname","scrollTo","left","top","behavior","length"],"mappings":"0TAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,kBAAxC,CAEA,OAASC,SAAT,KAA0B,cAA1B,CACA,MAAO,cAAP,CAGA,OAASC,eAAT,KAAgC,wBAAhC,C,aAEyBC,OAAO,CAAC,gBAAD,C,CAAxBC,Y,UAAAA,Y,CACR,GAAMC,CAAAA,QAAQ,CAAGF,OAAO,CAAC,WAAD,CAAxB,CACA,GAAMG,CAAAA,WAAW,CAAGH,OAAO,CAAC,IAAD,CAA3B,CAEA,cAAe,SAASI,CAAAA,WAAT,MAEZ,iCACD,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,GAAMS,CAAAA,MAAM,CAAGJ,QAAQ,CAACK,MAAM,CAACF,QAAP,CAAgBG,IAAjB,CAAvB,CACA,GAAMC,CAAAA,WAAW,CAAGN,WAAW,CAACO,KAAZ,CAAkBJ,MAAM,CAACK,KAAP,CAAaC,OAAb,CAAqB,GAArB,CAA0B,EAA1B,CAAlB,CAApB,CAHC,cAK6BlB,QAAQ,CAAC,EAAD,CALrC,wCAKMmB,OALN,eAKeC,UALf,eAMDnB,SAAS,CAAC,UAAM,CACd,GAAII,eAAe,CAACU,WAAW,CAACM,OAAb,CAAnB,CAA0C,CACxCD,UAAU,CAACf,eAAe,CAACU,WAAW,CAACM,OAAb,CAAhB,CAAV,CACD,CAFD,IAEO,CACLjB,SAAS,CAACkB,GAAV,CAAc,SAACC,CAAD,CAAIC,KAAJ,CAAc,CAC1B,GAAMC,CAAAA,EAAE,CAAGlB,YAAY,CAACgB,CAAC,CAACG,IAAF,CAAOC,iBAAP,GAA2BC,KAA3B,CAAiC,GAAjC,EAAsC,CAAtC,CAAD,CAAvB,CACA,GAAIH,EAAE,CAACI,IAAH,CAAQlB,QAAQ,CAACmB,QAAT,CAAkBH,iBAAlB,EAAR,GAAkD,IAAtD,CAA4D,CAC1DP,UAAU,CAACG,CAAC,CAACJ,OAAH,CAAV,CACD,CACF,CALD,EAMD,CAED;AACAN,MAAM,CAACkB,QAAP,CAAgB,CACdC,IAAI,CAAE,CADQ,CAEdC,GAAG,CAAE,CAFS,CAGdC,QAAQ,CAAE,QAHI,CAAhB,EAKD,CAlBQ,CAkBN,CAACvB,QAAD,CAlBM,CAAT,CAoBA,mBACE,2BAAK,SAAS,CAAC,eAAf,eACE,oDAGIQ,OAAO,CAACgB,MAAR,CAAiB,CAAjB,EACEhB,OAAO,CAACG,GAAR,CAAY,SAAAC,CAAC,CAAI,CACjB,mBAAO,4BAAM,GAAG,CAAEA,CAAX,YAAwBA,CAAxB,CAAP,CACC,CAFD,CAJN,CADF,CADF,CAcD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nimport { routeList } from '../../router';\nimport './index.less';\n\n\nimport { rightTopNavList } from '../../assets/constants';\n\nconst { pathToRegexp } = require(\"path-to-regexp\");\nconst URLParse = require('url-parse');\nconst queryString = require('qs');\n\nexport default function RightTopNav({\n  // list\n}) {\n  const location = useLocation();\n  const urlObj = URLParse(window.location.href);\n  const queryParams = queryString.parse(urlObj.query.replace('?', ''));\n\n  const [navData, setNavData] = useState([]);\n  useEffect(() => {\n    if (rightTopNavList[queryParams.secRNav]) {\n      setNavData(rightTopNavList[queryParams.secRNav]);\n    } else {\n      routeList.map((e, index) => {\n        const re = pathToRegexp(e.path.toLocaleLowerCase().split('?')[0]);\n        if (re.exec(location.pathname.toLocaleLowerCase()) != null) {\n          setNavData(e.navData);\n        }\n      })\n    }\n\n    // 滚动到顶部\n    window.scrollTo({\n      left: 0,\n      top: 0,\n      behavior: 'smooth'\n    })\n  }, [location]);\n\n  return (\n    <div className=\"right-top-nav\">\n      <span>\n        首页 &nbsp; \n        {\n          navData.length > 0 && (\n            navData.map(e => {\n            return <span key={e}> / &nbsp;{e}</span>;\n            })\n          )\n        }\n      </span>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}