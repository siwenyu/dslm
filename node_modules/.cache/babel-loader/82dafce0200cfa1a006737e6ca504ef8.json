{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';import{useHistory,useLocation}from\"react-router-dom\";import{RightOutlined}from'@ant-design/icons';import _ from'lodash';import{navLeftListXuexiao,navLeftListStu,navLeftListNews,navLeftListUnit,navLeftListBranch,navLeftListYuanxi,navLeftListAbout,navLeftListCareer}from'../../assets/constants';import{getParam}from'../../../utils/url';import'./index.less';var _require=require(\"path-to-regexp\"),pathToRegexp=_require.pathToRegexp;export default function LeftNav(_ref){var firstText=_ref.firstText;var list=[];var location=useLocation();var history=useHistory();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),nowIndex=_useState2[0],setNowIndex=_useState2[1];var _useState3=useState(list),_useState4=_slicedToArray(_useState3,2),listCopy=_useState4[0],setListCopy=_useState4[1];// secLNav 选择左侧的nav\nvar secLNav=+getParam('secLNav');if(secLNav===10){list=navLeftListStu;}else if(secLNav==11){list=navLeftListXuexiao;}else if(secLNav==12){list=navLeftListNews;}else if(secLNav==13){list=navLeftListUnit;}else if(secLNav==14){list=navLeftListBranch;}else if(secLNav==15){list=navLeftListYuanxi;}else if(secLNav==16){list=navLeftListAbout;}else if(secLNav==17){list=navLeftListCareer;}else{list=[];}// 设置高亮\nuseEffect(function(){var listc=_.cloneWith(list);console.log('listc');console.log(listc);listc.map(function(e,index){if(e.path){var re=pathToRegexp(e.path.toLocaleLowerCase().split('?')[0]);if(re.exec(location.pathname.toLocaleLowerCase())!=null){e.isActive=true;setNowIndex(index);}else{e.isActive=false;}}});setListCopy(listc);},[location]);var navClick=function navClick(e){if(e.path){history.push(e.path);}};return/*#__PURE__*/React.createElement(Fragment,null,listCopy&&listCopy.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"navleft\"},/*#__PURE__*/React.createElement(\"div\",{className:\"navleft-now\"},firstText||listCopy[nowIndex]&&listCopy[nowIndex].text),/*#__PURE__*/React.createElement(\"div\",{className:\"navleft-list\"},listCopy.map(function(e,index){return/*#__PURE__*/React.createElement(\"div\",{key:e.text,onClick:function onClick(){return navClick(e);},className:\"navleft-item \".concat(e.isActive?'active':'')},/*#__PURE__*/React.createElement(\"div\",null,e.text),e.isActive&&/*#__PURE__*/React.createElement(RightOutlined,null),e.tip&&/*#__PURE__*/React.createElement(\"div\",{className:\"navleft-tip\"},e.tip));}))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/components/LeftNav/index.js"],"names":["React","useState","useEffect","Fragment","useHistory","useLocation","RightOutlined","_","navLeftListXuexiao","navLeftListStu","navLeftListNews","navLeftListUnit","navLeftListBranch","navLeftListYuanxi","navLeftListAbout","navLeftListCareer","getParam","require","pathToRegexp","LeftNav","firstText","list","location","history","nowIndex","setNowIndex","listCopy","setListCopy","secLNav","listc","cloneWith","console","log","map","e","index","path","re","toLocaleLowerCase","split","exec","pathname","isActive","navClick","push","length","text","tip"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { RightOutlined } from '@ant-design/icons';\nimport _ from 'lodash';\n\nimport {\n  navLeftListXuexiao,\n  navLeftListStu,\n  navLeftListNews,\n  navLeftListUnit,\n  navLeftListBranch,\n  navLeftListYuanxi,\n  navLeftListAbout,\n  navLeftListCareer,\n} from '../../assets/constants';\n\nimport { getParam } from '../../../utils/url';\nimport './index.less';\n\nconst { pathToRegexp } = require(\"path-to-regexp\");\n\nexport default function LeftNav({\n  // list,\n  firstText,\n}) {\n  let list = [];\n  const location = useLocation();\n  const history = useHistory();\n\n  const [nowIndex, setNowIndex] = useState(0);\n  const [listCopy, setListCopy] = useState(list);\n\n  // secLNav 选择左侧的nav\n  const secLNav = +getParam('secLNav');\n  if (secLNav === 10) {\n    list = navLeftListStu;\n  } else if (secLNav == 11) {\n    list = navLeftListXuexiao;\n  } else if (secLNav == 12) {\n    list = navLeftListNews;\n  } else if (secLNav == 13) {\n    list = navLeftListUnit;\n  } else if (secLNav == 14) {\n    list = navLeftListBranch;\n  } else if (secLNav == 15) {\n    list = navLeftListYuanxi;\n  } else if (secLNav == 16) {\n    list = navLeftListAbout;\n  } else if (secLNav == 17) {\n    list = navLeftListCareer;\n  } else {\n    list = [];\n  }\n  \n  // 设置高亮\n  useEffect(() => {\n    const listc = _.cloneWith(list);\n    console.log('listc')\n    console.log(listc)\n    listc.map((e, index) => {\n      if (e.path) {\n        const re = pathToRegexp(e.path.toLocaleLowerCase().split('?')[0]);\n        if (re.exec(location.pathname.toLocaleLowerCase()) != null) {\n          e.isActive = true;\n          setNowIndex(index);\n        } else {\n          e.isActive = false;\n        }\n      }\n    })\n\n    setListCopy(listc);\n  }, [location]);\n  \n\n  const navClick = (e) => {\n    if (e.path) {\n      history.push(e.path);\n    }\n  };\n\n  return (\n    <Fragment>\n      {\n        listCopy && listCopy.length > 0 && (\n          <div className=\"navleft\">\n            <div className=\"navleft-now\">\n              {firstText || listCopy[nowIndex] && listCopy[nowIndex].text}\n            </div>\n            <div className=\"navleft-list\">\n              {\n                listCopy.map((e, index) => {\n                  return (\n                    <div key={e.text} onClick={() => navClick(e)} className={`navleft-item ${e.isActive ? 'active' : ''}`}>\n                      <div>{e.text}</div>\n\n                      {\n                        e.isActive && <RightOutlined />\n                      }\n\n                      {\n                        e.tip && (\n                          <div className=\"navleft-tip\">{e.tip}</div>\n                        )\n                      }\n                    </div>\n                  );\n                })\n              }\n            </div>\n          </div>\n        )\n      }\n    </Fragment>\n  );\n}"]},"metadata":{},"sourceType":"module"}