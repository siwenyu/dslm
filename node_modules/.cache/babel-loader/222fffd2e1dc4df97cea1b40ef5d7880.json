{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Tabs,Empty}from'antd';import LoadWrap from'../LoadWrap';import'./index.less';import HomeMore from'../HomeMore';import ItemPreach from'../ItemPreach';import ItemLikeNew from'../ItemLikeNew';import{tabData}from'../../page/constans';var TabPane=Tabs.TabPane;export default function HomeFairs(_ref){var data=_ref.data,lists=_ref.lists,showNum=_ref.showNum;var tabDataRender=data||tabData;tabDataRender.forEach(function(e,i){tabDataRender[i].list=lists[i];});var _useState=useState(tabDataRender[0].link),_useState2=_slicedToArray(_useState,2),moreLink=_useState2[0],setMoreLink=_useState2[1];useEffect(function(){tabDataRender.forEach(function(e,index){tabDataRender[index].list=e.list&&e.list.slice(0,showNum||6);});},[data]);var callback=function callback(index){setMoreLink(tabDataRender[index-1].link);};return/*#__PURE__*/React.createElement(\"div\",{className:\"home-fairs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fairs-more\"},/*#__PURE__*/React.createElement(HomeMore,{link:moreLink})),/*#__PURE__*/React.createElement(LoadWrap,{data:tabDataRender},/*#__PURE__*/React.createElement(Tabs,{defaultActiveKey:\"1\",onChange:callback},tabDataRender.map(function(e){return/*#__PURE__*/React.createElement(TabPane,{tab:e.tabName,key:e.key},e.list&&e.list.length>0?e.list.map(function(item,indexIndex){item.riliType=indexIndex+1;item.riliType=item.riliType>2?3:item.riliType;return/*#__PURE__*/React.createElement(ItemLikeNew,{pathName:e.pathName,riliType:item.riliType,key:item.preachId,hasTime:true,data:item});}):/*#__PURE__*/React.createElement(LoadWrap,null));}))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/components/HomeFairsTab2/index.js"],"names":["React","useState","useEffect","Tabs","Empty","LoadWrap","HomeMore","ItemPreach","ItemLikeNew","tabData","TabPane","HomeFairs","data","lists","showNum","tabDataRender","forEach","e","i","list","link","moreLink","setMoreLink","index","slice","callback","map","tabName","key","length","item","indexIndex","riliType","pathName","preachId"],"mappings":"kJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,KAAf,KAA4B,MAA5B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CAEA,MAAO,cAAP,CAEA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CAEA,OAASC,OAAT,KAAwB,qBAAxB,C,GAEQC,CAAAA,O,CAAYP,I,CAAZO,O,CAER,cAAe,SAASC,CAAAA,SAAT,MAIZ,IAHDC,CAAAA,IAGC,MAHDA,IAGC,CAFDC,KAEC,MAFDA,KAEC,CADDC,OACC,MADDA,OACC,CACD,GAAMC,CAAAA,aAAa,CAAGH,IAAI,EAAIH,OAA9B,CACAM,aAAa,CAACC,OAAd,CAAsB,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAC9BH,aAAa,CAACG,CAAD,CAAb,CAAiBC,IAAjB,CAAwBN,KAAK,CAACK,CAAD,CAA7B,CACD,CAFD,EAFC,cAK+BjB,QAAQ,CAACc,aAAa,CAAC,CAAD,CAAb,CAAiBK,IAAlB,CALvC,wCAKMC,QALN,eAKgBC,WALhB,eAMDpB,SAAS,CAAC,UAAM,CACda,aAAa,CAACC,OAAd,CAAsB,SAACC,CAAD,CAAIM,KAAJ,CAAc,CAClCR,aAAa,CAACQ,KAAD,CAAb,CAAqBJ,IAArB,CAA4BF,CAAC,CAACE,IAAF,EAAUF,CAAC,CAACE,IAAF,CAAOK,KAAP,CAAa,CAAb,CAAgBV,OAAO,EAAI,CAA3B,CAAtC,CACD,CAFD,EAGD,CAJQ,CAIN,CAACF,IAAD,CAJM,CAAT,CAMA,GAAMa,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACF,KAAD,CAAW,CAC1BD,WAAW,CAACP,aAAa,CAACQ,KAAK,CAAG,CAAT,CAAb,CAAyBH,IAA1B,CAAX,CACD,CAFD,CAIA,mBACE,2BAAK,SAAS,CAAC,YAAf,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,QAAD,EAAU,IAAI,CAAEC,QAAhB,EADF,CADF,cAIE,oBAAC,QAAD,EAAU,IAAI,CAAEN,aAAhB,eACE,oBAAC,IAAD,EAAM,gBAAgB,CAAC,GAAvB,CAA2B,QAAQ,CAAEU,QAArC,EAEIV,aAAa,CAACW,GAAd,CAAkB,SAAAT,CAAC,CAAI,CACrB,mBACE,oBAAC,OAAD,EAAS,GAAG,CAAEA,CAAC,CAACU,OAAhB,CAAyB,GAAG,CAAEV,CAAC,CAACW,GAAhC,EAEIX,CAAC,CAACE,IAAF,EAAUF,CAAC,CAACE,IAAF,CAAOU,MAAP,CAAgB,CAA1B,CACEZ,CAAC,CAACE,IAAF,CAAOO,GAAP,CAAW,SAACI,IAAD,CAAOC,UAAP,CAAsB,CACjCD,IAAI,CAACE,QAAL,CAAgBD,UAAU,CAAG,CAA7B,CACAD,IAAI,CAACE,QAAL,CAAgBF,IAAI,CAACE,QAAL,CAAgB,CAAhB,CAAoB,CAApB,CAAwBF,IAAI,CAACE,QAA7C,CACA,mBAAO,oBAAC,WAAD,EAAa,QAAQ,CAAEf,CAAC,CAACgB,QAAzB,CAAmC,QAAQ,CAAEH,IAAI,CAACE,QAAlD,CAA4D,GAAG,CAAEF,IAAI,CAACI,QAAtE,CAAgF,OAAO,CAAE,IAAzF,CAA+F,IAAI,CAAEJ,IAArG,EAAP,CACD,CAJC,CADF,cAOE,oBAAC,QAAD,MATN,CADF,CAeD,CAhBD,CAFJ,CADF,CAJF,CADF,CA8BD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Tabs, Empty } from 'antd';\n\nimport LoadWrap from '../LoadWrap';\n\nimport './index.less';\n\nimport HomeMore from '../HomeMore';\nimport ItemPreach from '../ItemPreach';\nimport ItemLikeNew from '../ItemLikeNew';\n\nimport { tabData } from '../../page/constans';\n\nconst { TabPane } = Tabs;\n\nexport default function HomeFairs({\n  data,\n  lists,\n  showNum\n}) {\n  const tabDataRender = data || tabData;\n  tabDataRender.forEach((e, i) => {\n    tabDataRender[i].list = lists[i];\n  });\n  const [moreLink, setMoreLink] = useState(tabDataRender[0].link);\n  useEffect(() => {\n    tabDataRender.forEach((e, index) => {\n      tabDataRender[index].list = e.list && e.list.slice(0, showNum || 6);\n    });\n  }, [data]);\n\n  const callback = (index) => {\n    setMoreLink(tabDataRender[index - 1].link);\n  };\n  \n  return (\n    <div className=\"home-fairs\">\n      <div className=\"fairs-more\">\n        <HomeMore link={moreLink} />\n      </div>\n      <LoadWrap data={tabDataRender}>\n        <Tabs defaultActiveKey=\"1\" onChange={callback}>\n          {\n            tabDataRender.map(e => {\n              return (\n                <TabPane tab={e.tabName} key={e.key}>\n                  {\n                    e.list && e.list.length > 0\n                    ? e.list.map((item, indexIndex) => {\n                      item.riliType = indexIndex + 1;\n                      item.riliType = item.riliType > 2 ? 3 : item.riliType;\n                      return <ItemLikeNew pathName={e.pathName} riliType={item.riliType} key={item.preachId} hasTime={true} data={item} />\n                    })\n                    : (\n                      <LoadWrap />\n                    )\n                  }\n                </TabPane>\n              )\n            })\n          }\n        </Tabs>\n      </LoadWrap>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}