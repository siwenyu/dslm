{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';import{useHistory,useLocation}from\"react-router-dom\";import{RightOutlined}from'@ant-design/icons';import _ from'lodash';import{leftNav1,leftNav2,leftNav3}from'../../assets/constants';import{getParam}from'../../../utils/url';import'./index.less';var _require=require(\"path-to-regexp\"),pathToRegexp=_require.pathToRegexp;export default function LeftNav(_ref){var firstText=_ref.firstText,onChange=_ref.onChange;var list=[];var location=useLocation();var history=useHistory();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),nowIndex=_useState2[0],setNowIndex=_useState2[1];var _useState3=useState(list),_useState4=_slicedToArray(_useState3,2),listCopy=_useState4[0],setListCopy=_useState4[1];// secLNav 选择左侧的nav\nvar secLNav=+getParam('secLNav');if(secLNav===1){list=leftNav1;}else if(secLNav==2){list=leftNav2;}else if(secLNav==3){list=leftNav3;}else{list=[];}// 设置高亮\nuseEffect(function(){var listc=_.cloneWith(list);listc.map(function(e,index){if(e.path||e.link){if(+getParam('activeKey')===+e.key){e.isActive=true;setNowIndex(index);}else{e.isActive=false;}}});setListCopy(listc);},[location]);var navClick=function navClick(e){if(e.path||e.link){history.push(e.path||e.link);}if(onChange){onChange();}};return/*#__PURE__*/React.createElement(Fragment,null,listCopy&&listCopy.length>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"navleft\"},/*#__PURE__*/React.createElement(\"div\",{className:\"navleft-now\"},firstText||listCopy[nowIndex]&&(listCopy[nowIndex].text||listCopy[nowIndex].tabName)),/*#__PURE__*/React.createElement(\"div\",{className:\"navleft-list\"},listCopy.map(function(e,index){return/*#__PURE__*/React.createElement(\"div\",{key:e.text,onClick:function onClick(){return navClick(e);},className:\"navleft-item \".concat(e.isActive?'active':'')},/*#__PURE__*/React.createElement(\"div\",null,e.text||e.tabName),e.isActive&&/*#__PURE__*/React.createElement(RightOutlined,null),e.tip&&/*#__PURE__*/React.createElement(\"div\",{className:\"navleft-tip\"},e.tip));}))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/components/LeftNav/index.js"],"names":["React","useState","useEffect","Fragment","useHistory","useLocation","RightOutlined","_","leftNav1","leftNav2","leftNav3","getParam","require","pathToRegexp","LeftNav","firstText","onChange","list","location","history","nowIndex","setNowIndex","listCopy","setListCopy","secLNav","listc","cloneWith","map","e","index","path","link","key","isActive","navClick","push","length","text","tabName","tip"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { RightOutlined } from '@ant-design/icons';\nimport _ from 'lodash';\n\nimport {\n  leftNav1,\n  leftNav2,\n  leftNav3,\n} from '../../assets/constants';\n\nimport { getParam } from '../../../utils/url';\nimport './index.less';\n\nconst { pathToRegexp } = require(\"path-to-regexp\");\n\nexport default function LeftNav({\n  // list,\n  firstText,\n  onChange,\n}) {\n  let list = [];\n  const location = useLocation();\n  const history = useHistory();\n\n  const [nowIndex, setNowIndex] = useState(0);\n  const [listCopy, setListCopy] = useState(list);\n\n  // secLNav 选择左侧的nav\n  const secLNav = +getParam('secLNav');\n  if (secLNav === 1) {\n    list = leftNav1;\n  } else if (secLNav == 2) {\n    list = leftNav2;\n  } else if (secLNav == 3) {\n    list = leftNav3;\n  } else {\n    list = [];\n  }\n  \n  // 设置高亮\n  useEffect(() => {\n    const listc = _.cloneWith(list);\n    listc.map((e, index) => {\n      if (e.path || e.link) {\n        if (+getParam('activeKey') === +e.key) {\n          e.isActive = true;\n          setNowIndex(index);\n        } else {\n          e.isActive = false;\n        }\n      }\n    })\n\n    setListCopy(listc);\n  }, [location]);\n  \n\n  const navClick = (e) => {\n    if (e.path || e.link) {\n      history.push(e.path || e.link);\n    }\n\n    if (onChange) {\n      onChange();\n    }\n  };\n\n  return (\n    <Fragment>\n      {\n        listCopy && listCopy.length > 0 && (\n          <div className=\"navleft\">\n            <div className=\"navleft-now\">\n              {firstText || listCopy[nowIndex] && (listCopy[nowIndex].text || listCopy[nowIndex].tabName)}\n            </div>\n            <div className=\"navleft-list\">\n              {\n                listCopy.map((e, index) => {\n                  return (\n                    <div key={e.text} onClick={() => navClick(e)} className={`navleft-item ${e.isActive ? 'active' : ''}`}>\n                      <div>{e.text || e.tabName}</div>\n\n                      {\n                        e.isActive && <RightOutlined />\n                      }\n\n                      {\n                        e.tip && (\n                          <div className=\"navleft-tip\">{e.tip}</div>\n                        )\n                      }\n                    </div>\n                  );\n                })\n              }\n            </div>\n          </div>\n        )\n      }\n    </Fragment>\n  );\n}"]},"metadata":{},"sourceType":"module"}