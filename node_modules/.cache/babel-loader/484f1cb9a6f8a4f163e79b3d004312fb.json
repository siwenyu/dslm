{"ast":null,"code":"var _jsxFileName = \"/Users/ss/Desktop/work/dslm/src/page/DetailPreach/index.js\";\nimport React, { useState, Fragment, useEffect } from 'react';\nimport { Table } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport Layout from '../../components/Layout';\nimport ErjiDetailKeys from '../../components/ErjiDetailKeys';\nimport ErjiBtn from '../../components/ErjiBtn';\nimport SubmitResume from '../../components/SubmitResume';\nimport { getSecPreachDetail } from '../../../api/second';\nimport './index.less';\nimport RightTopNav from '../../components/RightTopNav';\nimport { getParam } from '../../../utils/url';\nimport { render } from 'react-dom';\nconst columns = [{\n  title: '职位名称',\n  dataIndex: 'name',\n  key: 'name',\n  render: (text, record) => /*#__PURE__*/React.createElement(\"a\", {\n    href: `/detailjob?id=${record.jobId}&rightNav=102&headerNav=13`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 29\n    }\n  }, text)\n}, {\n  title: '单位名称',\n  dataIndex: 'unitName',\n  key: 'unitName'\n}, {\n  title: '需求人数',\n  dataIndex: 'number',\n  key: 'number',\n  width: 100\n}, {\n  title: '需求专业',\n  dataIndex: 'major',\n  key: 'major',\n  width: 300\n}, {\n  title: '投简历',\n  dataIndex: 'jobId',\n  key: 'jobId',\n  width: 140,\n  render: (data, record) => /*#__PURE__*/React.createElement(SubmitResume, {\n    data: record,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 31\n    }\n  })\n}];\nexport default function DetailPreach() {\n  var _detail$attachments, _detail$preachJobs;\n\n  const [detail, setDetail] = useState({});\n  const [listData, setListData] = useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    getData();\n  }, [history]);\n\n  const getData = () => {\n    getSecPreachDetail({\n      preachId: getParam('id')\n    }).then(res => {\n      if (res.data && res.data.preach) {\n        const _data = res.data.preach;\n        const _listData = [{\n          key: '宣讲单位',\n          value: _data.company && _data.company.name || '暂无',\n          link: '',\n          linkText: ''\n        }, {\n          key: '宣讲时间',\n          value: _data.preachDate ? `${_data.preachDate} ${_data.start}` : '暂无'\n        }, // {\n        //   key: '所在学校',\n        //   value: _data.school || '暂无',\n        // },\n        {\n          key: '宣讲地点',\n          value: _data.place && _data.place.name || '暂无'\n        } // {\n        //   key: '详情链接',\n        //   value: '',\n        // }\n        ];\n        setListData(_listData);\n\n        _data.preachJobs.forEach(e => {\n          e.unitName = _data.name;\n          e.name = e.job.name;\n          e.number = e.job.headCount || 0; // 专业\n\n          if (e.job.allMajors) {\n            e.major = '专业不限';\n          } else {\n            let majorArr = [];\n            e.job.majors.forEach(item => majorArr.push(item.major || item.middleKind));\n            e.major = `${majorArr.join('、')}`;\n          }\n        });\n\n        setDetail(_data);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji preach-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RightTopNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"normal-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, detail.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-m erji-gray-bg-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, detail.publishTime, \"\\u53D1\\u5E03\")), listData && listData.length > 0 && /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-l erji-normal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 19\n    }\n  }, \"\\u5BA3\\u8BB2\\u4FE1\\u606F\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji-shuoming-detail normal-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji-list-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ErjiDetailKeys, {\n    list: listData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(SubmitResume, {\n    text: \"\\u7ACB\\u5373\\u62A5\\u540D\",\n    data: detail,\n    modalTitle: \"\\u6B22\\u8FCE\\u626B\\u7801\\u62A5\\u540D\\u53C2\\u52A0\\u5BA3\\u8BB2\\u4F1A\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }))), detail.company && detail.company.profile && /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-l erji-normal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 19\n    }\n  }, \"\\u5355\\u4F4D\\u4ECB\\u7ECD\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-m pre-content\",\n    dangerouslySetInnerHTML: {\n      __html: `${detail.company && detail.company.profile || ''}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  })), detail.profile && /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-l erji-normal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, \"\\u62DB\\u8058\\u7B80\\u7AE0\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-m pre-content\",\n    dangerouslySetInnerHTML: {\n      __html: `${detail.profile || ''}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }), ((_detail$attachments = detail.attachments) === null || _detail$attachments === void 0 ? void 0 : _detail$attachments.length) > 0 && /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-l erji-normal-title gap-bottom-s\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }, \"\\u76F8\\u5173\\u9644\\u4EF6\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 19\n    }\n  }, detail.attachments.map(e => {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      key: e.url,\n      href: e.url,\n      className: \"erji-sub-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 29\n      }\n    }, e.name), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 96\n      }\n    }));\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }), detail.preachJobs && detail.preachJobs.length > 0 && /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-l erji-normal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 19\n    }\n  }, \"\\u62DB\\u8058\\u804C\\u4F4D\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 21\n    }\n  }, ((_detail$preachJobs = detail.preachJobs) === null || _detail$preachJobs === void 0 ? void 0 : _detail$preachJobs.length) || 0)), /*#__PURE__*/React.createElement(Table, {\n    pagination: false,\n    dataSource: detail.preachJobs,\n    columns: columns,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }\n  }))))));\n}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/DetailPreach/index.js"],"names":["React","useState","Fragment","useEffect","Table","useHistory","Layout","ErjiDetailKeys","ErjiBtn","SubmitResume","getSecPreachDetail","RightTopNav","getParam","render","columns","title","dataIndex","key","text","record","jobId","width","data","DetailPreach","detail","setDetail","listData","setListData","history","getData","preachId","then","res","preach","_data","_listData","value","company","name","link","linkText","preachDate","start","place","preachJobs","forEach","e","unitName","job","number","headCount","allMajors","major","majorArr","majors","item","push","middleKind","join","publishTime","length","profile","__html","attachments","map","url"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react';\n\nimport { Table } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nimport Layout from '../../components/Layout';\nimport ErjiDetailKeys from '../../components/ErjiDetailKeys';\nimport ErjiBtn from '../../components/ErjiBtn';\nimport SubmitResume from '../../components/SubmitResume';\n\nimport { getSecPreachDetail } from '../../../api/second';\n\nimport './index.less';\nimport RightTopNav from '../../components/RightTopNav';\n\nimport { getParam } from '../../../utils/url';\nimport { render } from 'react-dom';\n\nconst columns = [\n  {\n    title: '职位名称',\n    dataIndex: 'name',\n    key: 'name',\n  render: (text, record) => <a href={`/detailjob?id=${record.jobId}&rightNav=102&headerNav=13`}>{text}</a>\n  },\n  {\n    title: '单位名称',\n    dataIndex: 'unitName',\n    key: 'unitName',\n  },\n  {\n    title: '需求人数',\n    dataIndex: 'number',\n    key: 'number',\n    width: 100,\n  },\n  {\n    title: '需求专业',\n    dataIndex: 'major',\n    key: 'major',\n    width: 300,\n  },\n  {\n    title: '投简历',\n    dataIndex: 'jobId',\n    key: 'jobId',\n    width: 140,\n    render: (data, record) => <SubmitResume data={record} />\n  },\n];\n\n\nexport default function DetailPreach() {\n  const [detail, setDetail] = useState({});\n  const [listData, setListData] = useState([]);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getData();\n  }, [history]);\n\n  const getData = () => {\n    getSecPreachDetail({ preachId: getParam('id') }).then((res) => {\n      if (res.data && res.data.preach) {\n        const _data = res.data.preach;\n        const _listData = [\n          {\n            key: '宣讲单位',\n            value: (_data.company && _data.company.name) || '暂无',\n            link: '',\n            linkText: '',\n          },\n          {\n            key: '宣讲时间',\n            value: _data.preachDate ? `${_data.preachDate} ${_data.start}` : '暂无',\n          },\n          // {\n          //   key: '所在学校',\n          //   value: _data.school || '暂无',\n          // },\n          {\n            key: '宣讲地点',\n            value: (_data.place && _data.place.name) || '暂无',\n          },\n          // {\n          //   key: '详情链接',\n          //   value: '',\n          // }\n        ];\n        setListData(_listData);\n\n        _data.preachJobs.forEach(e => {\n          e.unitName = _data.name;\n          e.name = e.job.name;\n          e.number = e.job.headCount || 0;\n          \n          // 专业\n\n          if (e.job.allMajors) {\n            e.major = '专业不限';\n          } else {\n            let majorArr = [];\n            e.job.majors.forEach(item => majorArr.push(item.major || item.middleKind));\n            e.major = `${majorArr.join('、')}`;\n          }\n          \n        })\n        setDetail(_data);\n      }\n    });\n  }\n\n  return (\n    <Layout>\n      <div className=\"erji preach-detail\">\n        <div className=\"right\">\n          <RightTopNav />\n          <div className=\"normal-detail\">\n            <div className=\"erji-title\">{detail.name}</div>\n            <div className=\"gap-top-m erji-gray-bg-text\">\n              <span>{detail.publishTime}发布</span>\n            </div>\n\n            {/* 宣讲信息 */}\n            {\n              listData && listData.length > 0 && (\n                <Fragment>\n                  <div className=\"gap-top-l erji-normal-title\">宣讲信息</div>\n                  <div className=\"erji-shuoming-detail normal-row\">\n                    <div className=\"erji-list-wrap\">\n                      <ErjiDetailKeys list={listData} />\n                    </div>\n                    <SubmitResume text=\"立即报名\" data={detail} modalTitle=\"欢迎扫码报名参加宣讲会\" />\n                  </div>\n                </Fragment>\n              )\n            }\n\n            {/* 单位介绍 */}\n            {\n              detail.company && detail.company.profile && (\n                <Fragment>\n                  <div className=\"gap-top-l erji-normal-title\">单位介绍</div>\n                  <div className=\"gap-top-m pre-content\" dangerouslySetInnerHTML={{__html: `${detail.company && detail.company.profile || ''}`}}></div>\n                </Fragment>\n              )\n            }\n            \n            {/* 招聘简章 */}\n            {\n              detail.profile && (\n                <Fragment>\n                  <div className=\"gap-top-l erji-normal-title\">招聘简章</div>\n                  <div className=\"gap-top-m pre-content\" dangerouslySetInnerHTML={{__html: `${detail.profile || ''}`}}></div>\n                </Fragment>\n              )\n            }\n            <br />\n            {\n              detail.attachments?.length > 0 && (\n                <Fragment>\n                  <div className=\"gap-top-l erji-normal-title gap-bottom-s\">相关附件</div>\n\n                  <div className=\"erji-down\">\n                    {\n                      detail.attachments.map((e) => {\n                        return (\n                          <Fragment>\n                            <a key={e.url} href={e.url} className=\"erji-sub-title\">{e.name}</a><br />\n                          </Fragment>\n                        )\n                      })\n                    }\n                    \n                  </div>\n                </Fragment>\n              )\n            }\n            <br />\n            {/* 招聘职位 */}\n            {\n              detail.preachJobs && detail.preachJobs.length > 0 && (\n                <Fragment>\n                  <div className=\"gap-top-l erji-normal-title\">\n                    招聘职位\n                    <span>{detail.preachJobs?.length || 0}</span>\n                  </div>\n                  <Table pagination={false} dataSource={detail.preachJobs} columns={columns} />\n                </Fragment>\n              )\n            }\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}"]},"metadata":{},"sourceType":"module"}