{"ast":null,"code":"var _jsxFileName = \"/Users/ss/Desktop/work/dslm/src/page/StuXuexiaoZhuye/index.js\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { RViewer, RViewerTrigger } from 'react-viewerjs';\nimport { useHistory } from 'react-router-dom';\nimport Layout from '../../components/Layout';\nimport './index.less';\nimport RightTopNav from '../../components/RightTopNav';\nimport ErjiDetailKeys from '../../components/ErjiDetailKeys';\nimport { getCompanyDetail } from '../../../api/second';\nimport { getParam } from '../../../utils/url';\nconst imgTexts = ['官方宣传片', '城市环境', '教学环境'];\nexport default function StuXuexiaoZhuye() {\n  var _detail$logo;\n\n  const [detail, setDetail] = useState({});\n  const [listData, setListData] = useState([]);\n  const [jobData, setJobData] = useState(null);\n  const [preachData, setpreachData] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    getData();\n  }, [history]);\n\n  const getData = () => {\n    getCompanyDetail({\n      companyId: getParam('companyId')\n    }).then(res => {\n      var _res$data, _res$data$jobs, _res$data2, _res$data2$preaches, _res$data3, _data$nature, _res$data4, _res$data4$company, _res$data5;\n\n      console.log('getCompanyDetail');\n      console.log(res.data.company); // 职位和宣讲会\n\n      setJobData(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$jobs = _res$data.jobs) === null || _res$data$jobs === void 0 ? void 0 : _res$data$jobs.length) || 0);\n      setpreachData(((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$preaches = _res$data2.preaches) === null || _res$data2$preaches === void 0 ? void 0 : _res$data2$preaches.length) || 0);\n\n      const _data = ((_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.company) || null;\n\n      if (!_data) return;\n\n      const _industry = _data.industry || null;\n\n      const _listData = [{\n        key: '官网地址',\n        value: _data.website || '暂无',\n        link: _data.website || '',\n        linkText: ''\n      }, {\n        key: '领域',\n        value: _industry ? _industry.industryTiny || _industry.industrySmall || _industry.industryMiddle || _industry.industryBig : '暂无'\n      }, {\n        key: '规模',\n        value: _data.staffs || '暂无'\n      }, {\n        key: '单位性质',\n        value: ((_data$nature = _data.nature) === null || _data$nature === void 0 ? void 0 : _data$nature.name) || '暂无'\n      }, {\n        key: '地址',\n        value: `${_data.address}`\n      }];\n      setListData(_listData);\n      const pics = (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : (_res$data4$company = _res$data4.company) === null || _res$data4$company === void 0 ? void 0 : _res$data4$company.pictures;\n      const _pics = [];\n\n      if (pics) {\n        pics.forEach(element => {\n          _pics.push(element.url);\n        });\n        res.data.company.pics = _pics;\n      }\n\n      setDetail(((_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.company) || {});\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RightTopNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"xuexiaozhuye-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, detail.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"company-info gap-top-m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"company-logo gap-right-m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: ((_detail$logo = detail.logo) === null || _detail$logo === void 0 ? void 0 : _detail$logo.url) || window.defaultLogo,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ErjiDetailKeys, {\n    list: listData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-m erji-normal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"\\u5355\\u4F4D\\u7B80\\u4ECB\"), /*#__PURE__*/React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: `${detail.profile || ''}`\n    },\n    className: \"gap-top-m pre-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), detail.pictures && /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-m erji-normal-title gap-bottom-m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, \"\\u89C6\\u9891/\\u56FE\\u7247\"), /*#__PURE__*/React.createElement(RViewer, {\n    imageUrls: detail.pics,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    key: Math.random(),\n    className: \"zhuye-img-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, detail.pictures.map((pic, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"zhuye-img-item\",\n      key: pic,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(RViewerTrigger, {\n      index: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: pic.url,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 31\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"gap-top-s\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 29\n      }\n    }, imgTexts[index]));\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gap-top-m erji-normal-title gap-bottom-m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, \"\\u62DB\\u8058\\u52A8\\u6001\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"zhuye-info-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => history.push(`/secjobs?secLNav=10&headerNav=11&companyName=${detail.name ? detail.name : ''}`),\n    className: \"zhuye-info-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, jobData), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, \"\\u5728\\u62DB\\u804C\\u4F4D\")), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => history.push(`/xuanjianghui?secLNav=10&headerNav=12&companyName=${detail.name ? detail.name : ''}&rightNav=3`),\n    className: \"zhuye-info-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, preachData), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, \"\\u5BA3\\u8BB2\\u4F1A\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"zhuye-info-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, \"\\u5EFA\\u8BBE\\u4E2D\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  }, \"\\u8FDC\\u7A0B\\u9762\\u8BD5\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"zhuye-info-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, \"\\u5EFA\\u8BBE\\u4E2D\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, \"\\u5386\\u53F2\\u7B7E\\u7EA6\")))))));\n}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/StuXuexiaoZhuye/index.js"],"names":["React","useState","useEffect","Fragment","RViewer","RViewerTrigger","useHistory","Layout","RightTopNav","ErjiDetailKeys","getCompanyDetail","getParam","imgTexts","StuXuexiaoZhuye","detail","setDetail","listData","setListData","jobData","setJobData","preachData","setpreachData","history","getData","companyId","then","res","console","log","data","company","jobs","length","preaches","_data","_industry","industry","_listData","key","value","website","link","linkText","industryTiny","industrySmall","industryMiddle","industryBig","staffs","nature","name","address","pics","pictures","_pics","forEach","element","push","url","logo","window","defaultLogo","__html","profile","Math","random","map","pic","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { RViewer, RViewerTrigger } from 'react-viewerjs';\nimport { useHistory } from 'react-router-dom';\n\nimport Layout from '../../components/Layout';\n\nimport './index.less';\nimport RightTopNav from '../../components/RightTopNav';\n\nimport ErjiDetailKeys from '../../components/ErjiDetailKeys';\n\nimport { getCompanyDetail } from '../../../api/second';\nimport { getParam } from '../../../utils/url';\n\nconst imgTexts = [\n  '官方宣传片', '城市环境', '教学环境'\n];\n\nexport default function StuXuexiaoZhuye() {\n\n  const [detail, setDetail] = useState({});\n  const [listData, setListData] = useState([]);\n  const [jobData, setJobData] = useState(null);\n  const [preachData, setpreachData] = useState(null);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getData();\n  }, [history]);\n\n  const getData = () => {\n    getCompanyDetail({ companyId: getParam('companyId') }).then((res) => {\n      console.log('getCompanyDetail');\n      console.log(res.data.company);\n      // 职位和宣讲会\n      setJobData(res.data?.jobs?.length || 0);\n      setpreachData(res.data?.preaches?.length || 0);\n      const _data = res.data?.company || null;\n      if (!_data) return;\n      const  _industry = _data.industry || null;\n\n      const _listData = [\n        {\n          key: '官网地址',\n          value: _data.website || '暂无',\n          link: _data.website || '',\n          linkText: '',\n        },\n        {\n          key: '领域',\n          value: _industry ? (_industry.industryTiny || _industry.industrySmall || _industry.industryMiddle || _industry.industryBig) : '暂无',\n        },\n        {\n          key: '规模',\n          value: _data.staffs || '暂无',\n        },\n        {\n          key: '单位性质',\n          value: _data.nature?.name || '暂无',\n        },\n        {\n          key: '地址',\n          value: `${_data.address}`,\n        }\n      ];\n      \n      setListData(_listData);\n\n      const pics = res.data?.company?.pictures;\n      const _pics = [];\n      if (pics) {\n        pics.forEach(element => {\n          _pics.push(element.url);\n        });\n\n        res.data.company.pics = _pics;\n      }\n      \n      setDetail(res.data?.company || {});\n    });\n  }\n\n  return (\n    <Layout>\n      <div className=\"erji\">\n        {/* <div>\n          <LeftNav list={navLeftListXuexiao} firstText=\"学校主页\" />\n          <div className=\"gap-top-m\">\n            <ErjiMap />\n          </div>\n        </div> */}\n\n        <div className=\"right\">\n          <RightTopNav />\n          <div className=\"xuexiaozhuye-detail\">\n            <div className=\"erji-title\">\n            {detail.name}\n            </div>\n            <div className=\"company-info gap-top-m\">\n              <div className=\"company-logo gap-right-m\">\n                <img src={detail.logo?.url || window.defaultLogo} alt=\"\" />\n              </div>\n              <div className=\"list\">\n                <ErjiDetailKeys list={listData} />\n              </div>\n            </div>\n\n            <div className=\"gap-top-m erji-normal-title\">单位简介</div>\n\n            <div dangerouslySetInnerHTML={{__html: `${detail.profile || ''}`}} className=\"gap-top-m pre-content\">\n            </div>\n\n            {\n              detail.pictures && (\n                <Fragment>\n                  <div className=\"gap-top-m erji-normal-title gap-bottom-m\">视频/图片</div>\n                  <RViewer imageUrls={detail.pics}>\n                    <div key={Math.random()} className=\"zhuye-img-list\">\n                      {detail.pictures.map((pic, index) => {\n                        return (\n                          <div className=\"zhuye-img-item\" key={pic}>\n                            <RViewerTrigger index={index}>\n                              <img src={pic.url} alt=\"\" />\n                            </RViewerTrigger>\n                            <span className=\"gap-top-s\">{imgTexts[index]}</span>\n                          </div>\n                        )\n                      })\n                      }\n                    </div>\n                  </RViewer>\n                </Fragment>\n              )\n            }\n\n            <div className=\"gap-top-m erji-normal-title gap-bottom-m\">招聘动态</div>\n\n            <div className=\"zhuye-info-list\">\n              <div onClick={() => history.push(`/secjobs?secLNav=10&headerNav=11&companyName=${detail.name ? detail.name : ''}`)} className=\"zhuye-info-item\">\n                <div className=\"title1\">{jobData}</div>\n                <div className=\"text\">在招职位</div>\n              </div>\n              <div onClick={() => history.push(`/xuanjianghui?secLNav=10&headerNav=12&companyName=${detail.name ? detail.name : ''}&rightNav=3`)} className=\"zhuye-info-item\">\n                <div className=\"title1\">{preachData}</div>\n                <div className=\"text\">宣讲会</div>\n              </div>\n              <div className=\"zhuye-info-item\">\n                <div className=\"title2\">建设中</div>\n                <div className=\"text\">远程面试</div>\n              </div>\n              <div className=\"zhuye-info-item\">\n                <div className=\"title2\">建设中</div>\n                <div className=\"text\">历史签约</div>\n              </div>\n            </div>\n\n\n            {/* <div className=\"gap-top-l erji-normal-title\">相关附件</div>\n\n            <div className=\"erji-down\">\n              <a href=\"\" className=\"erji-sub-title\">吉林医药学院2020届毕业生“24365”线上招聘月邀请函.doc</a><br />\n              <a href=\"\">吉林医药学院2020届毕业生“24365”线上招聘月邀请函.doc</a>\n            </div>\n\n            <div className=\"gap-top-l erji-normal-title\">参会单位 <span>6</span></div> */}\n\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}"]},"metadata":{},"sourceType":"module"}