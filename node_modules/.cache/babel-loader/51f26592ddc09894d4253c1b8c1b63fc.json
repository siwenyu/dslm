{"ast":null,"code":"var _jsxFileName = \"/Users/ss/Desktop/work/dslm/src/components/Header/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport _ from 'lodash';\nimport './index.less';\nimport { navList, loginType, showSubNav } from './constants';\n\nconst subHot = require('../../assets/images/nav-hot.png');\n\nconst URLParse = require('url-parse');\n\nconst queryString = require('qs');\n\nexport default function Header() {\n  const [nav, setNav] = useState([]);\n  const history = useHistory();\n  let location = useLocation(); // 获取url高亮\n\n  const urlObj = URLParse(window.location.href);\n  const queryParams = queryString.parse(urlObj.query.replace('?', ''));\n  let nowNavIndex = 0;\n\n  if (queryParams.headerNav) {\n    nowNavIndex = queryParams.headerNav - 10;\n  }\n\n  useEffect(() => {\n    const navCopy = _.cloneDeepWith(navList);\n\n    navCopy.forEach((e, index) => {\n      if (index === nowNavIndex) {\n        navCopy[index].isActive = true;\n      } else {\n        navCopy[index].isActive = false;\n      }\n    });\n    setNav(navCopy);\n  }, [location]);\n\n  const login = link => {\n    window.open(link);\n  };\n\n  const navClick = e => {\n    console.log('点击了');\n    console.log(e);\n\n    if (e.text === '东师就业联盟网') {\n      window.open(e.path);\n    } else {\n      history.push(e.path);\n    }\n  };\n\n  const subNavClick = (event, item) => {\n    event.stopPropagation();\n    event.preventDefault();\n    history.push(item.path);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"first-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    onClick: () => history.push('/home'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"\\u6B22\\u8FCE\\u767B\\u9646\"), loginType.map(e => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: e.text,\n      onClick: () => login(e.link),\n      style: {\n        backgroundColor: e.color\n      },\n      className: \"login-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"\",\n      src: e.icon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }\n    }), e.text);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, nav.map(e => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: e.text,\n      onClick: () => navClick(e),\n      style: {\n        backgroundColor: e.color\n      },\n      className: `nav-item ${e.isActive ? 'active' : ''}  ${e.isActive && e.list && e.list.length && showSubNav.indexOf(location.pathname) >= 0 ? 'show-subnav' : ''}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, e.text, e.list && e.list.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      className: `subnav`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    }, e.list.map(itemItem => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onClick: event => subNavClick(event, itemItem),\n        key: itemItem.text,\n        className: \"subnav-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 27\n        }\n      }, itemItem.isHot && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"subnav-hot\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"\",\n        src: subHot,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 61\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 29\n        }\n      }, itemItem.text));\n    })));\n  })));\n}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/components/Header/index.js"],"names":["React","useState","useEffect","useHistory","useLocation","_","navList","loginType","showSubNav","subHot","require","URLParse","queryString","Header","nav","setNav","history","location","urlObj","window","href","queryParams","parse","query","replace","nowNavIndex","headerNav","navCopy","cloneDeepWith","forEach","e","index","isActive","login","link","open","navClick","console","log","text","path","push","subNavClick","event","item","stopPropagation","preventDefault","map","backgroundColor","color","icon","list","length","indexOf","pathname","itemItem","isHot"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,OAAO,cAAP;AAEA,SAASC,OAAT,EAAkBC,SAAlB,EAA6BC,UAA7B,QAA+C,aAA/C;;AAGA,MAAMC,MAAM,GAAGC,OAAO,CAAC,iCAAD,CAAtB;;AAEA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,WAAD,CAAxB;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,IAAD,CAA3B;;AAEA,eAAe,SAASG,MAAT,GAAkB;AAE/B,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBd,QAAQ,CAAC,EAAD,CAA9B;AAEA,QAAMe,OAAO,GAAGb,UAAU,EAA1B;AACA,MAAIc,QAAQ,GAAGb,WAAW,EAA1B,CAL+B,CAO/B;;AACA,QAAMc,MAAM,GAAGP,QAAQ,CAACQ,MAAM,CAACF,QAAP,CAAgBG,IAAjB,CAAvB;AACA,QAAMC,WAAW,GAAGT,WAAW,CAACU,KAAZ,CAAkBJ,MAAM,CAACK,KAAP,CAAaC,OAAb,CAAqB,GAArB,EAA0B,EAA1B,CAAlB,CAApB;AACA,MAAIC,WAAW,GAAG,CAAlB;;AACA,MAAIJ,WAAW,CAACK,SAAhB,EAA2B;AACzBD,IAAAA,WAAW,GAAGJ,WAAW,CAACK,SAAZ,GAAwB,EAAtC;AACD;;AAEDxB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMyB,OAAO,GAAGtB,CAAC,CAACuB,aAAF,CAAgBtB,OAAhB,CAAhB;;AAEAqB,IAAAA,OAAO,CAACE,OAAR,CAAgB,CAACC,CAAD,EAAIC,KAAJ,KAAc;AAC5B,UAAIA,KAAK,KAAKN,WAAd,EAA2B;AACzBE,QAAAA,OAAO,CAACI,KAAD,CAAP,CAAeC,QAAf,GAA0B,IAA1B;AACD,OAFD,MAEO;AACLL,QAAAA,OAAO,CAACI,KAAD,CAAP,CAAeC,QAAf,GAA0B,KAA1B;AACD;AACF,KAND;AAOAjB,IAAAA,MAAM,CAACY,OAAD,CAAN;AACD,GAXQ,EAWN,CAACV,QAAD,CAXM,CAAT;;AAaA,QAAMgB,KAAK,GAAIC,IAAD,IAAU;AACtBf,IAAAA,MAAM,CAACgB,IAAP,CAAYD,IAAZ;AACD,GAFD;;AAIA,QAAME,QAAQ,GAAIN,CAAD,IAAO;AACtBO,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYR,CAAZ;;AACA,QAAIA,CAAC,CAACS,IAAF,KAAW,SAAf,EAA0B;AACxBpB,MAAAA,MAAM,CAACgB,IAAP,CAAYL,CAAC,CAACU,IAAd;AACD,KAFD,MAEO;AACLxB,MAAAA,OAAO,CAACyB,IAAR,CAAaX,CAAC,CAACU,IAAf;AACD;AACF,GARD;;AAUA,QAAME,WAAW,GAAG,CAACC,KAAD,EAAQC,IAAR,KAAiB;AACnCD,IAAAA,KAAK,CAACE,eAAN;AACAF,IAAAA,KAAK,CAACG,cAAN;AACA9B,IAAAA,OAAO,CAACyB,IAAR,CAAaG,IAAI,CAACJ,IAAlB;AACD,GAJD;;AAMA,sBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAsB,IAAA,OAAO,EAAE,MAAMxB,OAAO,CAACyB,IAAR,CAAa,OAAb,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,EAGIlC,SAAS,CAACwC,GAAV,CAAcjB,CAAC,IAAI;AACjB,wBACE;AAAK,MAAA,GAAG,EAAEA,CAAC,CAACS,IAAZ;AAAkB,MAAA,OAAO,EAAE,MAAMN,KAAK,CAACH,CAAC,CAACI,IAAH,CAAtC;AAAgD,MAAA,KAAK,EAAE;AAAEc,QAAAA,eAAe,EAAElB,CAAC,CAACmB;AAArB,OAAvD;AAAqF,MAAA,SAAS,EAAC,YAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAC,EAAT;AAAY,MAAA,GAAG,EAAEnB,CAAC,CAACoB,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEGpB,CAAC,CAACS,IAFL,CADF;AAMD,GAPD,CAHJ,CAFF,CADF,eAkBE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEEzB,GAAG,CAACiC,GAAJ,CAAQjB,CAAC,IAAI;AACX,wBACE;AACE,MAAA,GAAG,EAAEA,CAAC,CAACS,IADT;AAEE,MAAA,OAAO,EAAE,MAAMH,QAAQ,CAACN,CAAD,CAFzB;AAGE,MAAA,KAAK,EAAE;AAAEkB,QAAAA,eAAe,EAAElB,CAAC,CAACmB;AAArB,OAHT;AAIE,MAAA,SAAS,EAAG,YAAWnB,CAAC,CAACE,QAAF,GAAa,QAAb,GAAuB,EAAG,KAAIF,CAAC,CAACE,QAAF,IAAcF,CAAC,CAACqB,IAAhB,IAAwBrB,CAAC,CAACqB,IAAF,CAAOC,MAA/B,IAAyC5C,UAAU,CAAC6C,OAAX,CAAmBpC,QAAQ,CAACqC,QAA5B,KAAyC,CAAlF,GAAsF,aAAtF,GAAsG,EAAG,EAJhK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMGxB,CAAC,CAACS,IANL,EASIT,CAAC,CAACqB,IAAF,IAAUrB,CAAC,CAACqB,IAAF,CAAOC,MAAP,GAAgB,CAA1B,iBACE;AAAK,MAAA,SAAS,EAAG,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEItB,CAAC,CAACqB,IAAF,CAAOJ,GAAP,CAAWQ,QAAQ,IAAI;AACrB,0BACE;AAAK,QAAA,OAAO,EAAGZ,KAAD,IAAWD,WAAW,CAACC,KAAD,EAAQY,QAAR,CAApC;AAAuD,QAAA,GAAG,EAAEA,QAAQ,CAAChB,IAArE;AAA2E,QAAA,SAAS,EAAC,aAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEIgB,QAAQ,CAACC,KAAT,iBACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA4B;AAAK,QAAA,GAAG,EAAC,EAAT;AAAY,QAAA,GAAG,EAAE/C,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA5B,CAHN,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM8C,QAAQ,CAAChB,IAAf,CANF,CADF;AAUD,KAXD,CAFJ,CAVN,CADF;AAiCD,GAlCD,CAFF,CAlBF,CADF;AA4DD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport _ from 'lodash';\n\nimport './index.less';\n\nimport { navList, loginType, showSubNav } from './constants';\n\n\nconst subHot = require('../../assets/images/nav-hot.png');\n\nconst URLParse = require('url-parse');\nconst queryString = require('qs');\n\nexport default function Header() {\n\n  const [nav, setNav] = useState([]);\n\n  const history = useHistory();\n  let location = useLocation();\n\n  // 获取url高亮\n  const urlObj = URLParse(window.location.href);\n  const queryParams = queryString.parse(urlObj.query.replace('?', ''));\n  let nowNavIndex = 0;\n  if (queryParams.headerNav) {\n    nowNavIndex = queryParams.headerNav - 10;\n  }\n\n  useEffect(() => {\n    const navCopy = _.cloneDeepWith(navList);\n    \n    navCopy.forEach((e, index) => {\n      if (index === nowNavIndex) {\n        navCopy[index].isActive = true;\n      } else {\n        navCopy[index].isActive = false;\n      }\n    });\n    setNav(navCopy);\n  }, [location]);\n\n  const login = (link) => {\n    window.open(link);\n  };\n\n  const navClick = (e) => {\n    console.log('点击了');\n    console.log(e);\n    if (e.text === '东师就业联盟网') {\n      window.open(e.path);\n    } else {\n      history.push(e.path);\n    }\n  };\n\n  const subNavClick = (event, item) => {\n    event.stopPropagation();\n    event.preventDefault();\n    history.push(item.path);\n  }\n\n  return (\n    <div className=\"header\">\n      <div className=\"first-line\">\n        <div className=\"logo\" onClick={() => history.push('/home')}></div>\n        <div className=\"login\">\n          <div>欢迎登陆</div>\n          {\n            loginType.map(e => {\n              return (\n                <div key={e.text} onClick={() => login(e.link)} style={{ backgroundColor: e.color }} className=\"login-item\">\n                  <img alt=\"\" src={e.icon} />\n                  {e.text}\n                </div>\n              )\n            })\n          }\n        </div>\n      </div>\n\n      <div className=\"nav\">\n      {\n        nav.map(e => {\n          return (\n            <div\n              key={e.text}\n              onClick={() => navClick(e)}\n              style={{ backgroundColor: e.color }}\n              className={`nav-item ${e.isActive ? 'active': ''}  ${e.isActive && e.list && e.list.length && showSubNav.indexOf(location.pathname) >= 0 ? 'show-subnav' : ''}`}\n            >\n              {e.text}\n\n              {\n                e.list && e.list.length > 0 && (\n                  <div className={`subnav`}>\n                    {\n                      e.list.map(itemItem => {\n                        return (\n                          <div onClick={(event) => subNavClick(event, itemItem)} key={itemItem.text} className=\"subnav-item\">\n                            {\n                              itemItem.isHot && (\n                                <div className=\"subnav-hot\"><img alt=\"\" src={subHot} /></div>\n                              )\n                            }\n                            <div>{itemItem.text}</div>\n                          </div>\n                        )\n                      })\n                    }\n                  </div>\n                )\n              }\n\n              \n            </div>\n          )\n        })\n      }\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}