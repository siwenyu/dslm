{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectDestructuringEmpty from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";import React,{useState,useEffect}from'react';import Slider from\"react-slick\";import{useHistory}from'react-router-dom';import LoadWrap from'../../../../components/LoadWrap';import'./index.less';import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";// import { bannerList } from '../../../constans';\nimport{getIndexRollings}from'../../../../../api/index';export default function HomeNews(_ref){_objectDestructuringEmpty(_ref);var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bannerList=_useState2[0],setBannerList=_useState2[1];var settings={dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:true};var clickhandle=function clickhandle(e){console.log(e);window.open(e.url);};// 获取数据\nuseEffect(function(){getIndexRollings().then(function(res){var _res$data;console.log('getIndexRollings');console.log(res);setBannerList(((_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.rollings)||[]);});},[history]);return/*#__PURE__*/React.createElement(\"div\",{className:\"home-banner\"},/*#__PURE__*/React.createElement(LoadWrap,{data:bannerList},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Slider,settings,bannerList.map(function(e,index){return/*#__PURE__*/React.createElement(\"div\",{key:e.url,onClick:function onClick(){return clickhandle(e);}},e.picture&&/*#__PURE__*/React.createElement(\"img\",{alt:\"\",src:e.picture.url}));})))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/Home/components/HomeBanner/index.js"],"names":["React","useState","useEffect","Slider","useHistory","LoadWrap","getIndexRollings","HomeNews","history","bannerList","setBannerList","settings","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","clickhandle","e","console","log","window","open","url","then","res","data","rollings","map","index","picture"],"mappings":"0TAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,iCAArB,CAEA,MAAO,cAAP,CACA,MAAO,gCAAP,CACA,MAAO,sCAAP,CAEA;AACA,OAASC,gBAAT,KAAiC,0BAAjC,CAEA,cAAe,SAASC,CAAAA,QAAT,MAEZ,iCACD,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CADC,cAGmCH,QAAQ,CAAC,EAAD,CAH3C,wCAGMQ,UAHN,eAGkBC,aAHlB,eAID,GAAMC,CAAAA,QAAQ,CAAG,CACfC,IAAI,CAAE,IADS,CAEfC,QAAQ,CAAE,IAFK,CAGfC,KAAK,CAAE,GAHQ,CAIfC,YAAY,CAAE,CAJC,CAKfC,cAAc,CAAE,CALD,CAMfC,QAAQ,CAAE,IANK,CAAjB,CASA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACzBC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACAG,MAAM,CAACC,IAAP,CAAYJ,CAAC,CAACK,GAAd,EACD,CAHD,CAIA;AACAtB,SAAS,CAAC,UAAM,CACdI,gBAAgB,GAAGmB,IAAnB,CAAwB,SAACC,GAAD,CAAS,eAC/BN,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYK,GAAZ,EACAhB,aAAa,CAAC,YAAAgB,GAAG,CAACC,IAAJ,8CAAUC,QAAV,GAAsB,EAAvB,CAAb,CACD,CAJD,EAKD,CANQ,CAMN,CAACpB,OAAD,CANM,CAAT,CAQA,mBACE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,QAAD,EAAU,IAAI,CAAEC,UAAhB,eACE,4CACE,oBAAC,MAAD,CAAYE,QAAZ,CAEIF,UAAU,CAACoB,GAAX,CAAe,SAACV,CAAD,CAAIW,KAAJ,CAAc,CAC3B,mBACE,2BAAK,GAAG,CAAEX,CAAC,CAACK,GAAZ,CAAiB,OAAO,CAAE,yBAAMN,CAAAA,WAAW,CAACC,CAAD,CAAjB,EAA1B,EAEIA,CAAC,CAACY,OAAF,eAAa,2BAAK,GAAG,CAAC,EAAT,CAAY,GAAG,CAAEZ,CAAC,CAACY,OAAF,CAAUP,GAA3B,EAFjB,CADF,CAWD,CAZD,CAFJ,CADF,CADF,CADF,CADF,CAyBD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Slider from \"react-slick\";\nimport { useHistory } from 'react-router-dom';\n\nimport LoadWrap from '../../../../components/LoadWrap';\n\nimport './index.less';\nimport \"slick-carousel/slick/slick.css\"; \nimport \"slick-carousel/slick/slick-theme.css\";\n\n// import { bannerList } from '../../../constans';\nimport { getIndexRollings } from '../../../../../api/index';\n\nexport default function HomeNews({\n  // newsList\n}) {\n  const history = useHistory();\n\n  const [bannerList, setBannerList] = useState([]);\n  const settings = {\n    dots: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    autoplay: true,\n  };\n\n  const clickhandle = (e) => {\n    console.log(e);\n    window.open(e.url);\n  }\n  // 获取数据\n  useEffect(() => {\n    getIndexRollings().then((res) => {\n      console.log('getIndexRollings');\n      console.log(res);\n      setBannerList(res.data?.rollings || []);\n    });\n  }, [history]);\n\n  return (\n    <div className=\"home-banner\">\n      <LoadWrap data={bannerList}>\n        <div>\n          <Slider {...settings}>\n            {\n              bannerList.map((e, index) => {\n                return (\n                  <div key={e.url} onClick={() => clickhandle(e)}>\n                    {\n                      e.picture && <img alt=\"\" src={e.picture.url} />\n                    }\n                    {/* <div className=\"banner-text\">\n                      <div>{e.title}</div>\n                      <div className=\"banner-subtitle\">{e.summary}</div>\n                    </div> */}\n                  </div>\n                );\n              })\n            }\n          </Slider>\n        </div>\n      </LoadWrap>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}