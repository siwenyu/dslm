{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useEffect}from'react';import{Calendar,message}from'antd';import Slider from\"react-slick\";import{RightOutlined}from'@ant-design/icons';import{useHistory,useLocation}from\"react-router-dom\";import Layout from'../../components/Layout';import HomePreach from'../../components/HomePreach';import'./index.less';import HomeMore from'../../components/HomeMore';import HomeZhiwei from'../../components/HomeZhiwei';import HomeZhaopin from'../../components/HomeZhaopin';import CalendarWrap from'../../components/CalendarWrap';import{stuPrizeList}from'../constans';import HomePass from'../../components/HomePass';import ItemDown from'../../components/ItemDown';import HomeShouxu from'../../components/HomeShouxu';import HomeAq from'../../components/HomeAq';// import { downList } from '../constans';\nimport{tabDataIndexPreachesConfig,tabDataIndexJobsConfig,tabDataIndexNoticesConfig}from'../../config';import{getIndexNews,getIndexJobs,getIndexNotices,getIndexPreaches}from'../../../api/index';import{getSecInfos}from'../../../api/second';var downIcon=require('../../assets/images/normal-down.png');var fourtool1=require('../../assets/images/stu-fourtool1.png');var fourtool2=require('../../assets/images/stu-fourtool2.png');var fourtool3=require('../../assets/images/stu-fourtool3.png');var fourtool4=require('../../assets/images/stu-fourtool4.png');var fourTools=[{text:'个体咨询',icon:fourtool1,link:''},{text:'签约平台',icon:fourtool2,link:'http://careers.nenu.edu.cn/login/student'},{text:'职业测评',icon:fourtool3,link:''},{text:'就业资源',icon:fourtool4,link:''}];export default function Student(){var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),news=_useState2[0],setNews=_useState2[1];// 宣讲会\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),tabDataIndexPreaches0=_useState4[0],setTabDataIndexPreaches0=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),tabDataIndexPreaches1=_useState6[0],setTabDataIndexPreaches1=_useState6[1];// 职位\nvar _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),tabDataIndexJobs0=_useState8[0],setTabDataIndexJobs0=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),tabDataIndexJobs1=_useState10[0],setTabDataIndexJobs1=_useState10[1];// 招聘信息\nvar _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),tabDataIndexNotices0=_useState12[0],setTabDataIndexNotices0=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),tabDataIndexNotices1=_useState14[0],setTabDataIndexNotices1=_useState14[1];// 下载\nvar _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),downList=_useState16[0],setDownList=_useState16[1];// 获取数据\nuseEffect(function(){initData();},[history]);var initData=function initData(){// 宣讲会、线下\ngetIndexNews({size:1}).then(function(res){var _res$data;console.log('getIndexNews');console.log(res);setNews(((_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.infos[0])||{});});// 宣讲会、线下\nvar preachesParamsOffline={size:4,mode:'OFFLINE'};getIndexPreaches(preachesParamsOffline).then(function(res){if(res.data&&res.data.preaches){setTabDataIndexPreaches0(res.data.preaches);}});// 宣讲会、线上\nvar preachesParamsOnline={size:4,mode:'ONLINE'};getIndexPreaches(preachesParamsOnline).then(function(res){if(res.data&&res.data.preaches){setTabDataIndexPreaches1(res.data.preaches);}});// 招聘职位，教育类\nvar jobsParamsNormal={size:6,normal:true};getIndexJobs(jobsParamsNormal).then(function(res){if(res.data&&res.data.jobs){setTabDataIndexJobs0(res.data.jobs);}});// 招聘职位，非教育类\nvar jobsParamsNotNormal={size:6,normal:false};getIndexJobs(jobsParamsNotNormal).then(function(res){if(res.data&&res.data.jobs){setTabDataIndexJobs1(res.data.jobs);}});// 招聘信息，教育类\nvar noticesParamsNormal={size:6,normal:true};getIndexNotices(noticesParamsNormal).then(function(res){if(res.data&&res.data.notices){setTabDataIndexNotices0(res.data.notices);}});// 招聘信息，非教育类\nvar noticesParamsNotnormal={size:6,normal:false};getIndexNotices(noticesParamsNotnormal).then(function(res){if(res.data&&res.data.notices){setTabDataIndexNotices1(res.data.notices);}});// 下载\ngetSecInfos({page:1,pageSize:6,category:'C020301'}).then(function(res){if(res.data&&res.data.infos){setDownList(res.data.infos);}});};// 小工具点击\nvar handleToolClick=function handleToolClick(e){if(e.link){window.open(e.link);}else{message.info('功能建设中，敬请期待~~~');}};return/*#__PURE__*/React.createElement(\"div\",{className:\"page stu\"},/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(\"div\",{className:\"stu-xuanjiang\"},/*#__PURE__*/React.createElement(HomePreach,{showNum:\"4\",list0:tabDataIndexPreaches0,list1:tabDataIndexPreaches1,data:tabDataIndexPreachesConfig}),/*#__PURE__*/React.createElement(\"div\",{className:\"stu-gonggao\",onClick:function onClick(){window.open(\"/detailgonggao?id=\".concat(news.infoId,\"&secRNav=20\"));}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"home-title\"},\"\\u901A\\u77E5\\u516C\\u544A \",/*#__PURE__*/React.createElement(\"div\",{className:\"icon\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"time\"},news.publishDate),/*#__PURE__*/React.createElement(\"span\",{className:\"title c-line-clamp1\"},\" \",news.title)))),/*#__PURE__*/React.createElement(\"div\",{className:\"stu-rili home-rili\"},/*#__PURE__*/React.createElement(\"div\",{className:\"stu-rili-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"home-title\"},\"\\u65E5\\u5386\"),/*#__PURE__*/React.createElement(CalendarWrap,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"stu-fourtools\"},fourTools.map(function(e){return/*#__PURE__*/React.createElement(\"div\",{key:e.text,onClick:function onClick(){return handleToolClick(e);},className:\"fourtool-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tool-icon\"},/*#__PURE__*/React.createElement(\"img\",{src:e.icon,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"tool-text gap-top-s\"},e.text));}))),(tabDataIndexJobs0||tabDataIndexJobs1)&&/*#__PURE__*/React.createElement(HomeZhiwei,{list0:tabDataIndexJobs0,list1:tabDataIndexJobs1,data:tabDataIndexJobsConfig}),tabDataIndexNotices0&&tabDataIndexNotices1&&/*#__PURE__*/React.createElement(HomeZhaopin,{list0:tabDataIndexNotices0,list1:tabDataIndexNotices1,data:tabDataIndexNoticesConfig}),/*#__PURE__*/React.createElement(\"div\",{className:\"normal-row\"},/*#__PURE__*/React.createElement(HomeShouxu,null),/*#__PURE__*/React.createElement(HomeAq,null)),downList&&/*#__PURE__*/React.createElement(\"div\",{className:\"stu-down\"},/*#__PURE__*/React.createElement(\"div\",{className:\"home-title\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",src:downIcon}),\"\\u5E38\\u7528\\u4E0B\\u8F7D\"),/*#__PURE__*/React.createElement(\"div\",{className:\"down-list\"},downList.map(function(e){return/*#__PURE__*/React.createElement(ItemDown,{data:e});})))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/Student/index.js"],"names":["React","useState","Fragment","useEffect","Calendar","message","Slider","RightOutlined","useHistory","useLocation","Layout","HomePreach","HomeMore","HomeZhiwei","HomeZhaopin","CalendarWrap","stuPrizeList","HomePass","ItemDown","HomeShouxu","HomeAq","tabDataIndexPreachesConfig","tabDataIndexJobsConfig","tabDataIndexNoticesConfig","getIndexNews","getIndexJobs","getIndexNotices","getIndexPreaches","getSecInfos","downIcon","require","fourtool1","fourtool2","fourtool3","fourtool4","fourTools","text","icon","link","Student","history","news","setNews","tabDataIndexPreaches0","setTabDataIndexPreaches0","tabDataIndexPreaches1","setTabDataIndexPreaches1","tabDataIndexJobs0","setTabDataIndexJobs0","tabDataIndexJobs1","setTabDataIndexJobs1","tabDataIndexNotices0","setTabDataIndexNotices0","tabDataIndexNotices1","setTabDataIndexNotices1","downList","setDownList","initData","size","then","res","console","log","data","infos","preachesParamsOffline","mode","preaches","preachesParamsOnline","jobsParamsNormal","normal","jobs","jobsParamsNotNormal","noticesParamsNormal","notices","noticesParamsNotnormal","page","pageSize","category","handleToolClick","e","window","open","info","infoId","publishDate","title","map"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react';\nimport { Calendar, message } from 'antd';\nimport Slider from \"react-slick\";\nimport { RightOutlined } from '@ant-design/icons';\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nimport Layout from '../../components/Layout';\nimport HomePreach from '../../components/HomePreach';\n\nimport './index.less';\nimport HomeMore from '../../components/HomeMore';\nimport HomeZhiwei from '../../components/HomeZhiwei';\nimport HomeZhaopin from '../../components/HomeZhaopin';\nimport CalendarWrap from '../../components/CalendarWrap';\n\nimport { stuPrizeList } from '../constans';\nimport HomePass from '../../components/HomePass';\nimport ItemDown from '../../components/ItemDown';\nimport HomeShouxu from '../../components/HomeShouxu';\nimport HomeAq from '../../components/HomeAq';\n\n// import { downList } from '../constans';\n\nimport {\n  tabDataIndexPreachesConfig,\n  tabDataIndexJobsConfig,\n  tabDataIndexNoticesConfig,\n} from '../../config';\n\nimport {\n  getIndexNews,\n  getIndexJobs,\n  getIndexNotices,\n  getIndexPreaches,\n} from '../../../api/index';\nimport {\n  getSecInfos,\n} from '../../../api/second';\n\nconst downIcon = require('../../assets/images/normal-down.png');\n\nconst fourtool1 = require('../../assets/images/stu-fourtool1.png');\nconst fourtool2 = require('../../assets/images/stu-fourtool2.png');\nconst fourtool3 = require('../../assets/images/stu-fourtool3.png');\nconst fourtool4 = require('../../assets/images/stu-fourtool4.png');\n\nconst fourTools = [\n  {\n    text: '个体咨询',\n    icon: fourtool1,\n    link: ''\n  },\n  {\n    text: '签约平台',\n    icon: fourtool2,\n    link: 'http://careers.nenu.edu.cn/login/student',\n  },\n  {\n    text: '职业测评',\n    icon: fourtool3,\n    link: '',\n  },\n  {\n    text: '就业资源',\n    icon: fourtool4,\n    link: ''\n  },\n]\n\nexport default function Student() {\n  const history = useHistory();\n\n  const [news, setNews] = useState({});\n\n  // 宣讲会\n  const [tabDataIndexPreaches0, setTabDataIndexPreaches0] = useState(null);\n  const [tabDataIndexPreaches1, setTabDataIndexPreaches1] = useState(null);\n\n  // 职位\n  const [tabDataIndexJobs0, setTabDataIndexJobs0] = useState(null);\n  const [tabDataIndexJobs1, setTabDataIndexJobs1] = useState(null);\n\n  // 招聘信息\n  const [tabDataIndexNotices0, setTabDataIndexNotices0] = useState(null);\n  const [tabDataIndexNotices1, setTabDataIndexNotices1] = useState(null);\n\n  // 下载\n  const [downList, setDownList] = useState(null);\n\n  // 获取数据\n  useEffect(() => {\n    initData();\n  }, [history]);\n\n  const initData = () => {\n    // 宣讲会、线下\n    getIndexNews({ size: 1 }).then(res => {\n      console.log('getIndexNews');\n      console.log(res);\n      setNews(res.data?.infos[0] || {});\n    })\n    // 宣讲会、线下\n    const preachesParamsOffline = {\n      size: 4,\n      mode: 'OFFLINE',\n    };\n    getIndexPreaches(preachesParamsOffline).then((res) => {\n      if (res.data && res.data.preaches) {\n        setTabDataIndexPreaches0(res.data.preaches);\n      }\n    });\n\n    // 宣讲会、线上\n    const preachesParamsOnline = {\n      size: 4,\n      mode: 'ONLINE',\n    };\n    getIndexPreaches(preachesParamsOnline).then((res) => {\n      if (res.data && res.data.preaches) {\n        setTabDataIndexPreaches1(res.data.preaches);\n      }\n    });\n\n    // 招聘职位，教育类\n    const jobsParamsNormal = {\n      size: 6,\n      normal: true,\n    };\n    getIndexJobs(jobsParamsNormal).then((res) => {\n      if (res.data && res.data.jobs) {\n        setTabDataIndexJobs0(res.data.jobs);\n      }\n    });\n\n    // 招聘职位，非教育类\n    const jobsParamsNotNormal = {\n      size: 6,\n      normal: false,\n    };\n    getIndexJobs(jobsParamsNotNormal).then((res) => {\n      if (res.data && res.data.jobs) {\n        setTabDataIndexJobs1(res.data.jobs);\n      }\n    });\n\n    // 招聘信息，教育类\n    const noticesParamsNormal = {\n      size: 6,\n      normal: true,\n    };\n    getIndexNotices(noticesParamsNormal).then((res) => {\n      if (res.data && res.data.notices) {\n        setTabDataIndexNotices0(res.data.notices);\n      }\n    });\n\n    // 招聘信息，非教育类\n    const noticesParamsNotnormal = {\n      size: 6,\n      normal: false,\n    };\n    getIndexNotices(noticesParamsNotnormal).then((res) => {\n      if (res.data && res.data.notices) {\n        setTabDataIndexNotices1(res.data.notices);\n      }\n    });\n\n    // 下载\n    getSecInfos({ page: 1, pageSize: 6, category: 'C020301' }).then((res) => {\n      if (res.data && res.data.infos) {\n        setDownList(res.data.infos);\n      }\n    });\n\n  };\n\n  // 小工具点击\n  const handleToolClick = (e) => {\n    if (e.link) {\n      window.open(e.link);\n    } else {\n      message.info('功能建设中，敬请期待~~~');\n    }\n  }\n\n  return (\n    <div className=\"page stu\">\n      <Layout>\n        {/* 宣讲会 */}\n        <div className=\"stu-xuanjiang\">\n          {/* 宣讲会 */}\n          {\n            <HomePreach showNum=\"4\" list0={tabDataIndexPreaches0} list1={tabDataIndexPreaches1} data={tabDataIndexPreachesConfig} />\n          }\n          {/* <HomePreach showNum=\"4\" /> */}\n          {/* 通知公告 */}\n          <div className=\"stu-gonggao\" onClick={() => {window.open(`/detailgonggao?id=${news.infoId}&secRNav=20`)}}>\n            <div>\n              <div className=\"home-title\">通知公告 <div className=\"icon\"></div></div>\n              <span className=\"time\">{news.publishDate}</span>\n              <span className=\"title c-line-clamp1\"> {news.title}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* 日历 */}\n        <div className=\"stu-rili home-rili\">\n          <div className=\"stu-rili-item\">\n            <div className=\"home-title\">日历</div>\n            <CalendarWrap />\n          </div>\n          \n          {/* 讲座活动 */}\n          {/* <div className=\"stu-jiangzuo\">\n            <div className=\"title-line\">\n              <div className=\"\">\n                <img alt=\"\" className=\"icon\" src={stuJiangzuo} />\n                讲座活动\n              </div>\n              <HomeMore link=\"\" />\n            </div>\n            <img alt=\"\" className=\"stu-banner\" src={stuJiangzuoBanner} />\n\n            <div>第18期&nbsp;制造业专场干货分享</div>\n          </div> */}\n\n          {/* 学生4个小工具 */}\n          <div className=\"stu-fourtools\">\n            {\n              fourTools.map(e => {\n                return <div key={e.text} onClick={() => handleToolClick(e)} className=\"fourtool-item\">\n                  <div className=\"tool-icon\">\n                    <img src={e.icon} alt=\"\" />\n                  </div>\n                  <div className=\"tool-text gap-top-s\">\n                    {e.text}\n                  </div>\n                </div>\n              })\n            }\n          </div>\n\n        </div>\n\n        {/* 招聘职位 */}\n        {\n          (tabDataIndexJobs0 || tabDataIndexJobs1)\n          && (\n            <HomeZhiwei list0={tabDataIndexJobs0} list1={tabDataIndexJobs1} data={tabDataIndexJobsConfig} />\n          )\n        }\n\n        {/* 招聘信息 */}\n        {\n          tabDataIndexNotices0 && tabDataIndexNotices1\n          && (\n            <HomeZhaopin list0={tabDataIndexNotices0} list1={tabDataIndexNotices1} data={tabDataIndexNoticesConfig} />\n          )\n        }\n\n        {/* 求职技巧 */}\n        {/* <div>\n          <StuSkill showNum={6} />\n\n          <div className=\"stu-prize\">\n            <div className=\"home-title\">就业课程</div>\n            <div>\n              {\n                stuPrizeList.map((e) => {\n                  return (\n                    <div key={Math.random()}>\n                      <div className=\"prize-item\" onClick={() => {window.open(e.link)}}>\n                        <img alt=\"\" className=\"img\" src={e.img} />\n                      </div>\n                    </div>\n                  );\n                })\n              }\n            </div>\n          </div>\n        </div> */}\n\n        {/* 快速通道 */}\n        {/* <HomePass /> */}\n\n\n        {/* 工具，手续，问答 */}\n        {/* <HomeTools></HomeTools> */}\n\n        <div className=\"normal-row\">\n          {/* <HomeTools /> */}\n          <HomeShouxu />\n          <HomeAq />\n        </div>\n\n        {/* 常用下载 */}\n        {\n          downList && (\n            <div className=\"stu-down\">\n              <div className=\"home-title\">\n                <img alt=\"\" src={downIcon} />\n                常用下载\n              </div>\n              <div className=\"down-list\">\n                {\n                  downList.map(e => {\n                    return <ItemDown data={e} />\n                  })\n                }\n              </div>\n            </div>\n          )\n        }\n        \n\n      </Layout>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}