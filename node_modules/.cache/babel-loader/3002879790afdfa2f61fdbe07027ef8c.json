{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from'react';import{Pagination,Empty}from'antd';import{useHistory}from'react-router-dom';import Layout from'../../components/Layout';import'./index.less';import LeftNav from'../../components/LeftNav';import RightTopNav from'../../components/RightTopNav';import ItemNews from'../../components/ItemNews';import{getParam}from'../../../utils/url';import{getSecInfos}from'../../../api/second';export default function BranchLilunxuexi(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),pageSize=_useState6[0],setPageSize=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),total=_useState8[0],setTotal=_useState8[1];var history=useHistory();useEffect(function(){getData(page);},[history]);var getData=function getData(page){getSecInfos({page:page,pageSize:pageSize,category:'C040201'}).then(function(res){console.log('理论学习');console.log(res);if(res.data){setList(res.data.infos);setTotal(res.data.total);}});};var onChange=function onChange(index){console.log(index);setPage(index);getData(index);};return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(\"div\",{className:\"erji\"},/*#__PURE__*/React.createElement(LeftNav,null),/*#__PURE__*/React.createElement(\"div\",{className:\"right\"},/*#__PURE__*/React.createElement(RightTopNav,null),/*#__PURE__*/React.createElement(\"div\",{className:\"branch-lilun-list\"},list&&list.length>0?/*#__PURE__*/React.createElement(Fragment,null,list.map(function(item,indexIndex){return/*#__PURE__*/React.createElement(ItemNews,{pathName:\"normaldetail\",key:item.title,hasBefore:false,hasTime:true,data:item});})):/*#__PURE__*/React.createElement(Empty,null)),/*#__PURE__*/React.createElement(Pagination,{pageSize:pageSize,defaultCurrent:1,onChange:onChange,total:total,showSizeChanger:false}))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/BranchLilunxuexi/index.js"],"names":["React","useState","useEffect","Fragment","Pagination","Empty","useHistory","Layout","LeftNav","RightTopNav","ItemNews","getParam","getSecInfos","BranchLilunxuexi","list","setList","page","setPage","pageSize","setPageSize","total","setTotal","history","getData","category","then","res","console","log","data","infos","onChange","index","length","map","item","indexIndex","title"],"mappings":"kJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,OAASC,UAAT,CAAqBC,KAArB,KAAkC,MAAlC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CAEA,MAAO,cAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CAEA,OAASC,QAAT,KAAyB,oBAAzB,CAEA,OAASC,WAAT,KAA4B,qBAA5B,CAEA,cAAe,SAASC,CAAAA,gBAAT,EAA4B,eAEjBZ,QAAQ,CAAC,EAAD,CAFS,wCAElCa,IAFkC,eAE5BC,OAF4B,8BAGjBd,QAAQ,CAAC,CAAD,CAHS,yCAGlCe,IAHkC,eAG5BC,OAH4B,8BAIThB,QAAQ,CAAC,EAAD,CAJC,yCAIlCiB,QAJkC,eAIxBC,WAJwB,8BAKflB,QAAQ,CAAC,CAAD,CALO,yCAKlCmB,KALkC,eAK3BC,QAL2B,eAOzC,GAAMC,CAAAA,OAAO,CAAGhB,UAAU,EAA1B,CAEAJ,SAAS,CAAC,UAAM,CACdqB,OAAO,CAACP,IAAD,CAAP,CACD,CAFQ,CAEN,CAACM,OAAD,CAFM,CAAT,CAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACP,IAAD,CAAU,CACxBJ,WAAW,CAAC,CACVI,IAAI,CAAJA,IADU,CAEVE,QAAQ,CAARA,QAFU,CAGVM,QAAQ,CAAE,SAHA,CAAD,CAAX,CAIGC,IAJH,CAIQ,SAACC,GAAD,CAAS,CACfC,OAAO,CAACC,GAAR,CAAY,MAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,GAAIA,GAAG,CAACG,IAAR,CAAc,CACZd,OAAO,CAACW,GAAG,CAACG,IAAJ,CAASC,KAAV,CAAP,CACAT,QAAQ,CAACK,GAAG,CAACG,IAAJ,CAAST,KAAV,CAAR,CACD,CACF,CAXD,EAYD,CAbD,CAeA,GAAMW,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAW,CAC1BL,OAAO,CAACC,GAAR,CAAYI,KAAZ,EACAf,OAAO,CAACe,KAAD,CAAP,CACAT,OAAO,CAACS,KAAD,CAAP,CACD,CAJD,CAMA,mBACE,oBAAC,MAAD,mBACE,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,OAAD,MADF,cAGE,2BAAK,SAAS,CAAC,OAAf,eACE,oBAAC,WAAD,MADF,cAEE,2BAAK,SAAS,CAAC,mBAAf,EAEIlB,IAAI,EAAIA,IAAI,CAACmB,MAAL,CAAc,CAAtB,cAEI,oBAAC,QAAD,MAEInB,IAAI,CAACoB,GAAL,CAAS,SAACC,IAAD,CAAOC,UAAP,CAAsB,CAC7B,mBAAO,oBAAC,QAAD,EAAU,QAAQ,CAAC,cAAnB,CAAkC,GAAG,CAAED,IAAI,CAACE,KAA5C,CAAmD,SAAS,CAAE,KAA9D,CAAqE,OAAO,CAAE,IAA9E,CAAoF,IAAI,CAAEF,IAA1F,EAAP,CACD,CAFD,CAFJ,CAFJ,cAUI,oBAAC,KAAD,MAZR,CAFF,cAiBE,oBAAC,UAAD,EAAY,QAAQ,CAAEjB,QAAtB,CAAgC,cAAc,CAAE,CAAhD,CAAmD,QAAQ,CAAEa,QAA7D,CAAuE,KAAK,CAAEX,KAA9E,CAAqF,eAAe,CAAE,KAAtG,EAjBF,CAHF,CADF,CADF,CA2BD","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { Pagination, Empty } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nimport Layout from '../../components/Layout';\n\nimport './index.less';\nimport LeftNav from '../../components/LeftNav';\nimport RightTopNav from '../../components/RightTopNav';\nimport ItemNews from '../../components/ItemNews';\n\nimport { getParam } from '../../../utils/url';\n\nimport { getSecInfos } from '../../../api/second';\n\nexport default function BranchLilunxuexi() {\n\n  const [list, setList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [total, setTotal] = useState(1);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getData(page);\n  }, [history]);\n\n  const getData = (page) => {\n    getSecInfos({\n      page,\n      pageSize,\n      category: 'C040201',\n    }).then((res) => {\n      console.log('理论学习');\n      console.log(res);\n      if (res.data) {\n        setList(res.data.infos);\n        setTotal(res.data.total);\n      }\n    });\n  }\n\n  const onChange = (index) => {\n    console.log(index);\n    setPage(index);\n    getData(index);\n  };\n\n  return (\n    <Layout>\n      <div className=\"erji\">\n        <LeftNav  />\n        \n        <div className=\"right\">\n          <RightTopNav />\n          <div className=\"branch-lilun-list\">\n            {\n              list && list.length > 0\n                ? (\n                  <Fragment>\n                    {\n                      list.map((item, indexIndex) => {\n                        return <ItemNews pathName=\"normaldetail\" key={item.title} hasBefore={false} hasTime={true} data={item} />\n                      })\n                    }\n                  </Fragment>\n                )\n                : <Empty />\n            }\n          </div>\n          <Pagination pageSize={pageSize} defaultCurrent={1} onChange={onChange} total={total} showSizeChanger={false} />\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}