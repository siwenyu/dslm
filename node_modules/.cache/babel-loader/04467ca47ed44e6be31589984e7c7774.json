{"ast":null,"code":"var _jsxFileName = \"/Users/ss/Desktop/work/dslm/src/page/SecOtherWeb/index.js\";\nimport React, { useState, useEffect, Fragment } from 'react';\nimport { Pagination, Empty } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport Layout from '../../components/Layout';\nimport './index.less';\nimport LeftNav from '../../components/LeftNav';\nimport RightTopNav from '../../components/RightTopNav';\nimport ItemFair from '../../components/ItemFair';\nimport { getParam } from '../../../utils/url';\nimport { postSecFairs } from '../../../api/second';\nimport ItemLikeNew from '../../components/ItemLikeNew';\nexport default function SecOtherWeb() {\n  const [list, setList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [total, setTotal] = useState(1);\n  const history = useHistory();\n  useEffect(() => {\n    getData(page);\n  }, [history]);\n\n  const getData = page => {\n    postSecFairs({\n      page,\n      pageSize,\n      name: getParam('name') // mode: getParam('mode'),\n\n    }).then(res => {\n      console.log('postSecFairs');\n      console.log(res);\n\n      if (res.data) {\n        setList(res.data.fairs);\n        setTotal(res.data.total);\n      }\n    });\n  };\n\n  const onChange = index => {\n    console.log(index);\n    setPage(index);\n    getData(index);\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erji\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(LeftNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RightTopNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fairs-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, list && list.length > 0 ? /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, list.map((item, indexIndex) => {\n    return /*#__PURE__*/React.createElement(ItemLikeNew, {\n      key: item.fairId,\n      data: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 32\n      }\n    });\n  })) : /*#__PURE__*/React.createElement(Empty, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  })), list && list.length > 0 && /*#__PURE__*/React.createElement(Pagination, {\n    pageSize: pageSize,\n    defaultCurrent: 1,\n    onChange: onChange,\n    total: total,\n    showSizeChanger: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/SecOtherWeb/index.js"],"names":["React","useState","useEffect","Fragment","Pagination","Empty","useHistory","Layout","LeftNav","RightTopNav","ItemFair","getParam","postSecFairs","ItemLikeNew","SecOtherWeb","list","setList","page","setPage","pageSize","setPageSize","total","setTotal","history","getData","name","then","res","console","log","data","fairs","onChange","index","length","map","item","indexIndex","fairId"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport { Pagination, Empty } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nimport Layout from '../../components/Layout';\n\nimport './index.less';\nimport LeftNav from '../../components/LeftNav';\nimport RightTopNav from '../../components/RightTopNav';\nimport ItemFair from '../../components/ItemFair';\n\nimport { getParam } from '../../../utils/url';\n\nimport { postSecFairs } from '../../../api/second';\nimport ItemLikeNew from '../../components/ItemLikeNew';\n\nexport default function SecOtherWeb() {\n\n  const [list, setList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [total, setTotal] = useState(1);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getData(page);\n  }, [history]);\n\n  const getData = (page) => {\n    postSecFairs({\n      page,\n      pageSize,\n      name: getParam('name'),\n      // mode: getParam('mode'),\n    }).then((res) => {\n      console.log('postSecFairs');\n      console.log(res);\n      if (res.data) {\n        setList(res.data.fairs);\n        setTotal(res.data.total);\n      }\n    });\n  }\n\n  const onChange = (index) => {\n    console.log(index);\n    setPage(index);\n    getData(index);\n  };\n\n  return (\n    <Layout>\n      <div className=\"erji\">\n        <LeftNav />\n        \n        <div className=\"right\">\n          <RightTopNav />\n          <div className=\"fairs-list\">\n            {\n              list && list.length > 0\n                ? (\n                  <Fragment>\n                    {\n                      list.map((item, indexIndex) => {\n                        return <ItemLikeNew key={item.fairId} data={item} />\n                      })\n                    }\n                  </Fragment>\n                )\n                : <Empty />\n            }\n          </div>\n          {\n            list && list.length > 0 && (\n              <Pagination pageSize={pageSize} defaultCurrent={1} onChange={onChange} total={total} showSizeChanger={false} />\n            )\n          }\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}