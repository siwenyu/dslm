{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useHistory,useLocation}from\"react-router-dom\";import _ from'lodash';import'./index.less';import{navList,loginType,showSubNav}from'./constants';var subHot=require('../../assets/images/nav-hot.png');var URLParse=require('url-parse');var queryString=require('qs');export default function Header(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),nav=_useState2[0],setNav=_useState2[1];var history=useHistory();var location=useLocation();// 获取url高亮\nvar urlObj=URLParse(window.location.href);var queryParams=queryString.parse(urlObj.query.replace('?',''));var nowNavIndex=0;if(queryParams.headerNav){nowNavIndex=queryParams.headerNav-10;}useEffect(function(){var navCopy=_.cloneDeepWith(navList);navCopy.forEach(function(e,index){if(index===nowNavIndex){navCopy[index].isActive=true;}else{navCopy[index].isActive=false;}});setNav(navCopy);},[location]);var login=function login(link){window.open(link);};var navClick=function navClick(e){if(e.text==='东师就业中心'){window.open(e.path);}else{history.push(e.path);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"header-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"first-line\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logo\",onClick:function onClick(){return history.push('/home');}}),/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},loginType.map(function(e){return/*#__PURE__*/React.createElement(\"div\",{key:e.text,onClick:function onClick(){return login(e.link);},className:\"login-item\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"\",src:e.icon}),e.text);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"nav\"},nav.map(function(e){return/*#__PURE__*/React.createElement(\"div\",{key:e.text,onClick:function onClick(){return navClick(e);},style:{backgroundColor:e.color},className:\"nav-item \".concat(e.isActive?'active':'')},e.text);})));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/components/Header/index.js"],"names":["React","useState","useEffect","useHistory","useLocation","_","navList","loginType","showSubNav","subHot","require","URLParse","queryString","Header","nav","setNav","history","location","urlObj","window","href","queryParams","parse","query","replace","nowNavIndex","headerNav","navCopy","cloneDeepWith","forEach","e","index","isActive","login","link","open","navClick","text","path","push","map","icon","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport _ from 'lodash';\n\nimport './index.less';\n\nimport { navList, loginType, showSubNav } from './constants';\n\n\nconst subHot = require('../../assets/images/nav-hot.png');\n\nconst URLParse = require('url-parse');\nconst queryString = require('qs');\n\nexport default function Header() {\n\n  const [nav, setNav] = useState([]);\n\n  const history = useHistory();\n  let location = useLocation();\n\n  // 获取url高亮\n  const urlObj = URLParse(window.location.href);\n  const queryParams = queryString.parse(urlObj.query.replace('?', ''));\n  let nowNavIndex = 0;\n  if (queryParams.headerNav) {\n    nowNavIndex = queryParams.headerNav - 10;\n  }\n\n  useEffect(() => {\n    const navCopy = _.cloneDeepWith(navList);\n    \n    navCopy.forEach((e, index) => {\n      if (index === nowNavIndex) {\n        navCopy[index].isActive = true;\n      } else {\n        navCopy[index].isActive = false;\n      }\n    });\n    setNav(navCopy);\n  }, [location]);\n\n  const login = (link) => {\n    window.open(link);\n  };\n\n  const navClick = (e) => {\n    if (e.text === '东师就业中心') {\n      window.open(e.path);\n    } else {\n      history.push(e.path);\n    }\n  };\n\n  return (\n    <div className=\"header-wrap\">\n      <div className=\"header\">\n        <div className=\"first-line\">\n          <div className=\"logo\" onClick={() => history.push('/home')}></div>\n          <div className=\"login\">\n            {\n              loginType.map(e => {\n                return (\n                  <div key={e.text} onClick={() => login(e.link)} className=\"login-item\">\n                    <img alt=\"\" src={e.icon} />\n                    {e.text}\n                  </div>\n                )\n              })\n            }\n          </div>\n        </div>\n      </div>\n      <div className=\"nav\">\n        {\n          nav.map(e => {\n            return (\n              <div\n                key={e.text}\n                onClick={() => navClick(e)}\n                style={{ backgroundColor: e.color }}\n                className={`nav-item ${e.isActive ? 'active': ''}`}\n              >\n                {e.text}\n              </div>\n            )\n          })\n        }\n        </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}