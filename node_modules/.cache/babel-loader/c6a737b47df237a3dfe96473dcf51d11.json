{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectDestructuringEmpty from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";import React,{useState,useEffect,Fragment}from'react';import Slider from\"react-slick\";import{Carousel}from'antd';import{useHistory}from'react-router-dom';import LoadWrap from'../../../../components/LoadWrap';import'./index.less';import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";// import bgImg from '../../assets/images/banner-bottom-bg.png';\n// import bgImg1 from '../../assets/images/class-banner.png';\n// import { bannerList } from '../../../constans';\nimport{getIndexRollings}from'../../../../../api/index';export default function HomeBanner(_ref){_objectDestructuringEmpty(_ref);var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),bannerList=_useState2[0],setBannerList=_useState2[1];var settings={dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:true};var clickhandle=function clickhandle(e){window.open(e.url);};// 获取数据\nuseEffect(function(){getIndexRollings().then(function(res){var _res$data;setBannerList(((_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.rollings)||[]);});},[history]);return/*#__PURE__*/React.createElement(\"div\",{className:\"home-banner\"},/*#__PURE__*/React.createElement(LoadWrap,{data:bannerList},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Slider,settings,bannerList.map(function(e,index){var _e$picture,_e$picture2;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{key:e.url,style:{backgroundImage:\"url(\".concat((_e$picture=e.picture)===null||_e$picture===void 0?void 0:_e$picture.url,\")\")},onClick:function onClick(){return clickhandle(e);}},/*#__PURE__*/React.createElement(\"div\",{style:{backgroundImage:\"url(\".concat((_e$picture2=e.picture)===null||_e$picture2===void 0?void 0:_e$picture2.url,\")\")},className:\"banner-item\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"bg-img\"})));})))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/Home/components/HomeBanner/index.js"],"names":["React","useState","useEffect","Fragment","Slider","Carousel","useHistory","LoadWrap","getIndexRollings","HomeBanner","history","bannerList","setBannerList","settings","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","clickhandle","e","window","open","url","then","res","data","rollings","map","index","backgroundImage","picture"],"mappings":"0TAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,MAAOC,CAAAA,MAAP,KAAmB,aAAnB,CACA,OAASC,QAAT,KAAyB,MAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,iCAArB,CAEA,MAAO,cAAP,CACA,MAAO,gCAAP,CACA,MAAO,sCAAP,CAEA;AACA;AAEA;AACA,OAASC,gBAAT,KAAiC,0BAAjC,CAEA,cAAe,SAASC,CAAAA,UAAT,MAEZ,iCACD,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CADC,cAGmCL,QAAQ,CAAC,EAAD,CAH3C,wCAGMU,UAHN,eAGkBC,aAHlB,eAID,GAAMC,CAAAA,QAAQ,CAAG,CACfC,IAAI,CAAE,IADS,CAEfC,QAAQ,CAAE,IAFK,CAGfC,KAAK,CAAE,GAHQ,CAIfC,YAAY,CAAE,CAJC,CAKfC,cAAc,CAAE,CALD,CAMfC,QAAQ,CAAE,IANK,CAAjB,CASA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACzBC,MAAM,CAACC,IAAP,CAAYF,CAAC,CAACG,GAAd,EACD,CAFD,CAGA;AACAtB,SAAS,CAAC,UAAM,CACdM,gBAAgB,GAAGiB,IAAnB,CAAwB,SAACC,GAAD,CAAS,eAC/Bd,aAAa,CAAC,YAAAc,GAAG,CAACC,IAAJ,8CAAUC,QAAV,GAAsB,EAAvB,CAAb,CACD,CAFD,EAGD,CAJQ,CAIN,CAAClB,OAAD,CAJM,CAAT,CAMA,mBACE,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,QAAD,EAAU,IAAI,CAAEC,UAAhB,eACE,4CACE,oBAAC,MAAD,CAAYE,QAAZ,CAEIF,UAAU,CAACkB,GAAX,CAAe,SAACR,CAAD,CAAIS,KAAJ,CAAc,4BAC3B,mBACE,oBAAC,QAAD,mBACE,2BAAK,GAAG,CAAET,CAAC,CAACG,GAAZ,CAAiB,KAAK,CAAE,CAAEO,eAAe,2BAASV,CAAC,CAACW,OAAX,qCAAS,WAAWR,GAApB,KAAjB,CAAxB,CAAuE,OAAO,CAAE,yBAAMJ,CAAAA,WAAW,CAACC,CAAD,CAAjB,EAAhF,eACE,2BAAK,KAAK,CAAE,CAAEU,eAAe,4BAASV,CAAC,CAACW,OAAX,sCAAS,YAAWR,GAApB,KAAjB,CAAZ,CAA2D,SAAS,CAAC,aAArE,EADF,cAEE,2BAAK,SAAS,CAAC,QAAf,EAFF,CADF,CADF,CAUD,CAXD,CAFJ,CADF,CADF,CADF,CADF,CAwBD","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport Slider from \"react-slick\";\nimport { Carousel } from 'antd';\nimport { useHistory } from 'react-router-dom';\n\nimport LoadWrap from '../../../../components/LoadWrap';\n\nimport './index.less';\nimport \"slick-carousel/slick/slick.css\"; \nimport \"slick-carousel/slick/slick-theme.css\";\n\n// import bgImg from '../../assets/images/banner-bottom-bg.png';\n// import bgImg1 from '../../assets/images/class-banner.png';\n\n// import { bannerList } from '../../../constans';\nimport { getIndexRollings } from '../../../../../api/index';\n\nexport default function HomeBanner({\n  // newsList\n}) {\n  const history = useHistory();\n\n  const [bannerList, setBannerList] = useState([]);\n  const settings = {\n    dots: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    autoplay: true,\n  };\n\n  const clickhandle = (e) => {\n    window.open(e.url);\n  }\n  // 获取数据\n  useEffect(() => {\n    getIndexRollings().then((res) => {\n      setBannerList(res.data?.rollings || []);\n    });\n  }, [history]);\n\n  return (\n    <div className=\"home-banner\">\n      <LoadWrap data={bannerList}>\n        <div>\n          <Slider {...settings}>\n            {\n              bannerList.map((e, index) => {\n                return (\n                  <Fragment>\n                    <div key={e.url} style={{ backgroundImage: `url(${e.picture?.url})` }} onClick={() => clickhandle(e)}>\n                      <div style={{ backgroundImage: `url(${e.picture?.url})` }} className=\"banner-item\"></div>\n                      <div className=\"bg-img\">\n                        {/* <img src={bgImg} alt=\"\" /> */}\n                      </div>\n                    </div>\n                  </Fragment>\n                );\n              })\n            }\n          </Slider>\n        </div>\n      </LoadWrap>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}