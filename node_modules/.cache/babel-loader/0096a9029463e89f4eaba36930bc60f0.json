{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Tabs,Empty}from'antd';import LoadWrap from'../LoadWrap';import'./index.less';import HomeMore from'../HomeMore';import FairsItem from'../ItemFair';import{tabData}from'../../page/constans';var TabPane=Tabs.TabPane;export default function HomeFairs(_ref){var data=_ref.data,list0=_ref.list0,list1=_ref.list1,showNum=_ref.showNum;var tabDataRender=data||tabData;tabDataRender[0].list=list0;tabDataRender[1].list=list1;var _useState=useState(tabDataRender[0].link),_useState2=_slicedToArray(_useState,2),moreLink=_useState2[0],setMoreLink=_useState2[1];useEffect(function(){tabDataRender.forEach(function(e,index){tabDataRender[index].list=e.list&&e.list.slice(0,showNum||6);});},[data]);var callback=function callback(index){console.log(index);setMoreLink(tabDataRender[index-1].link);};return/*#__PURE__*/React.createElement(\"div\",{className:\"home-fairs\"},/*#__PURE__*/React.createElement(\"div\",{className:\"fairs-more\"},/*#__PURE__*/React.createElement(HomeMore,{link:moreLink})),/*#__PURE__*/React.createElement(LoadWrap,{data:tabDataRender},/*#__PURE__*/React.createElement(Tabs,{defaultActiveKey:\"1\",onChange:callback},tabDataRender.map(function(e){return/*#__PURE__*/React.createElement(TabPane,{tab:e.tabName,key:e.key},e.list&&e.list.length>0?e.list.map(function(item,indexIndex){item.riliType=indexIndex+1;item.riliType=item.riliType>2?3:item.riliType;return/*#__PURE__*/React.createElement(FairsItem,{key:item.fairId,riliType:item.riliType,data:item});}):/*#__PURE__*/React.createElement(Empty,null));}))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/components/HomeFairs/index.js"],"names":["React","useState","useEffect","Tabs","Empty","LoadWrap","HomeMore","FairsItem","tabData","TabPane","HomeFairs","data","list0","list1","showNum","tabDataRender","list","link","moreLink","setMoreLink","forEach","e","index","slice","callback","console","log","map","tabName","key","length","item","indexIndex","riliType","fairId"],"mappings":"kJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,KAAf,KAA4B,MAA5B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CAEA,MAAO,cAAP,CAEA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CAEA,OAASC,OAAT,KAAwB,qBAAxB,C,GAEQC,CAAAA,O,CAAYN,I,CAAZM,O,CAER,cAAe,SAASC,CAAAA,SAAT,MAKZ,IAJDC,CAAAA,IAIC,MAJDA,IAIC,CAHDC,KAGC,MAHDA,KAGC,CAFDC,KAEC,MAFDA,KAEC,CADDC,OACC,MADDA,OACC,CACD,GAAMC,CAAAA,aAAa,CAAGJ,IAAI,EAAIH,OAA9B,CACAO,aAAa,CAAC,CAAD,CAAb,CAAiBC,IAAjB,CAAwBJ,KAAxB,CACAG,aAAa,CAAC,CAAD,CAAb,CAAiBC,IAAjB,CAAwBH,KAAxB,CAHC,cAI+BZ,QAAQ,CAACc,aAAa,CAAC,CAAD,CAAb,CAAiBE,IAAlB,CAJvC,wCAIMC,QAJN,eAIgBC,WAJhB,eAKDjB,SAAS,CAAC,UAAM,CACda,aAAa,CAACK,OAAd,CAAsB,SAACC,CAAD,CAAIC,KAAJ,CAAc,CAClCP,aAAa,CAACO,KAAD,CAAb,CAAqBN,IAArB,CAA4BK,CAAC,CAACL,IAAF,EAAUK,CAAC,CAACL,IAAF,CAAOO,KAAP,CAAa,CAAb,CAAgBT,OAAO,EAAI,CAA3B,CAAtC,CACD,CAFD,EAGD,CAJQ,CAIN,CAACH,IAAD,CAJM,CAAT,CAMA,GAAMa,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACF,KAAD,CAAW,CAC1BG,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EACAH,WAAW,CAACJ,aAAa,CAACO,KAAK,CAAG,CAAT,CAAb,CAAyBL,IAA1B,CAAX,CACD,CAHD,CAKA,mBACE,2BAAK,SAAS,CAAC,YAAf,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,oBAAC,QAAD,EAAU,IAAI,CAAEC,QAAhB,EADF,CADF,cAIE,oBAAC,QAAD,EAAU,IAAI,CAAEH,aAAhB,eACE,oBAAC,IAAD,EAAM,gBAAgB,CAAC,GAAvB,CAA2B,QAAQ,CAAES,QAArC,EAEIT,aAAa,CAACY,GAAd,CAAkB,SAAAN,CAAC,CAAI,CACrB,mBACE,oBAAC,OAAD,EAAS,GAAG,CAAEA,CAAC,CAACO,OAAhB,CAAyB,GAAG,CAAEP,CAAC,CAACQ,GAAhC,EAEIR,CAAC,CAACL,IAAF,EAAUK,CAAC,CAACL,IAAF,CAAOc,MAAP,CAAgB,CAA1B,CACET,CAAC,CAACL,IAAF,CAAOW,GAAP,CAAW,SAACI,IAAD,CAAOC,UAAP,CAAsB,CACjCD,IAAI,CAACE,QAAL,CAAgBD,UAAU,CAAG,CAA7B,CACAD,IAAI,CAACE,QAAL,CAAgBF,IAAI,CAACE,QAAL,CAAgB,CAAhB,CAAoB,CAApB,CAAwBF,IAAI,CAACE,QAA7C,CACA,mBAAO,oBAAC,SAAD,EAAW,GAAG,CAAEF,IAAI,CAACG,MAArB,CAA6B,QAAQ,CAAEH,IAAI,CAACE,QAA5C,CAAsD,IAAI,CAAEF,IAA5D,EAAP,CACD,CAJC,CADF,cAOE,oBAAC,KAAD,MATN,CADF,CAeD,CAhBD,CAFJ,CADF,CAJF,CADF,CA8BD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Tabs, Empty } from 'antd';\n\nimport LoadWrap from '../LoadWrap';\n\nimport './index.less';\n\nimport HomeMore from '../HomeMore';\nimport FairsItem from '../ItemFair';\n\nimport { tabData } from '../../page/constans';\n\nconst { TabPane } = Tabs;\n\nexport default function HomeFairs({\n  data,\n  list0,\n  list1,\n  showNum\n}) {\n  const tabDataRender = data || tabData;\n  tabDataRender[0].list = list0;\n  tabDataRender[1].list = list1;\n  const [moreLink, setMoreLink] = useState(tabDataRender[0].link);\n  useEffect(() => {\n    tabDataRender.forEach((e, index) => {\n      tabDataRender[index].list = e.list && e.list.slice(0, showNum || 6);\n    });\n  }, [data]);\n\n  const callback = (index) => {\n    console.log(index);\n    setMoreLink(tabDataRender[index - 1].link);\n  };\n  \n  return (\n    <div className=\"home-fairs\">\n      <div className=\"fairs-more\">\n        <HomeMore link={moreLink} />\n      </div>\n      <LoadWrap data={tabDataRender}>\n        <Tabs defaultActiveKey=\"1\" onChange={callback}>\n          {\n            tabDataRender.map(e => {\n              return (\n                <TabPane tab={e.tabName} key={e.key}>\n                  {\n                    e.list && e.list.length > 0\n                    ? e.list.map((item, indexIndex) => {\n                      item.riliType = indexIndex + 1;\n                      item.riliType = item.riliType > 2 ? 3 : item.riliType;\n                      return <FairsItem key={item.fairId} riliType={item.riliType} data={item} />\n                    })\n                    : (\n                      <Empty />\n                    )\n                  }\n                </TabPane>\n              )\n            })\n          }\n        </Tabs>\n      </LoadWrap>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}