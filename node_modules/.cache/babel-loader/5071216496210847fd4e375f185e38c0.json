{"ast":null,"code":"import _slicedToArray from\"/Users/ss/Desktop/work/dslm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment,useEffect}from'react';import{useHistory}from'react-router-dom';import Layout from'../../components/Layout';import{getSecInfosDetail}from'../../../api/second';import'./index.less';import RightTopNav from'../../components/RightTopNav';import{getParam}from'../../../utils/url';export default function GonggaoDetail(){var _detail$attachments;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),detail=_useState2[0],setDetail=_useState2[1];var history=useHistory();useEffect(function(){getData();},[history]);var getData=function getData(){getSecInfosDetail({infoId:getParam('id')}).then(function(res){res.data&&res.data.info&&setDetail(res.data.info);});};return/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(\"div\",{className:\"erji erji-shouxu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"right\"},/*#__PURE__*/React.createElement(RightTopNav,null),/*#__PURE__*/React.createElement(\"div\",{className:\"normal-detail\"},/*#__PURE__*/React.createElement(\"div\",{className:\"erji-title\"},detail.title),/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-m erji-gray-bg-text\"},/*#__PURE__*/React.createElement(\"span\",null,detail.publishDate,\"\\u53D1\\u5E03\")),detail.subtitle&&/*#__PURE__*/React.createElement(\"div\",{className:\"erji-sub-title gap-top-l gap-bottom-m\"},detail.subtitle),/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-m detail-text\"},/*#__PURE__*/React.createElement(\"div\",{className:\"pre-content\",dangerouslySetInnerHTML:{__html:\"\".concat(detail.content||'')}})),((_detail$attachments=detail.attachments)===null||_detail$attachments===void 0?void 0:_detail$attachments.length)>0&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"gap-top-l erji-normal-title gap-bottom-s\"},\"\\u76F8\\u5173\\u9644\\u4EF6\"),/*#__PURE__*/React.createElement(\"div\",{className:\"erji-down\"},detail.attachments.map(function(e){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"a\",{key:e.url,href:e.url,className:\"erji-sub-title\"},e.name),/*#__PURE__*/React.createElement(\"br\",null));}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)))));}","map":{"version":3,"sources":["/Users/ss/Desktop/work/dslm/src/page/DetailGonggao/index.js"],"names":["React","useState","Fragment","useEffect","useHistory","Layout","getSecInfosDetail","RightTopNav","getParam","GonggaoDetail","detail","setDetail","history","getData","infoId","then","res","data","info","title","publishDate","subtitle","__html","content","attachments","length","map","e","url","name"],"mappings":"kJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,SAApC,KAAqD,OAArD,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CAEA,OAASC,iBAAT,KAAkC,qBAAlC,CAEA,MAAO,cAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CAEA,OAASC,QAAT,KAAyB,oBAAzB,CAEA,cAAe,SAASC,CAAAA,aAAT,EAAyB,uCACVR,QAAQ,CAAC,EAAD,CADE,wCAC/BS,MAD+B,eACvBC,SADuB,eAGtC,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAEAD,SAAS,CAAC,UAAM,CACdU,OAAO,GACR,CAFQ,CAEN,CAACD,OAAD,CAFM,CAAT,CAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBP,iBAAiB,CAAC,CAAEQ,MAAM,CAAEN,QAAQ,CAAC,IAAD,CAAlB,CAAD,CAAjB,CAA8CO,IAA9C,CAAmD,SAACC,GAAD,CAAS,CAC1DA,GAAG,CAACC,IAAJ,EAAYD,GAAG,CAACC,IAAJ,CAASC,IAArB,EAA6BP,SAAS,CAACK,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAtC,CACD,CAFD,EAGD,CAJD,CAMA,mBACE,oBAAC,MAAD,mBACE,2BAAK,SAAS,CAAC,kBAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,oBAAC,WAAD,MADF,cAEE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,YAAf,EAA6BR,MAAM,CAACS,KAApC,CADF,cAEE,2BAAK,SAAS,CAAC,6BAAf,eACE,gCAAOT,MAAM,CAACU,WAAd,gBADF,CAFF,CAQIV,MAAM,CAACW,QAAP,eACE,2BAAK,SAAS,CAAC,uCAAf,EACGX,MAAM,CAACW,QADV,CATN,cAcE,2BAAK,SAAS,CAAC,uBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,CAA6B,uBAAuB,CAAE,CAACC,MAAM,WAAKZ,MAAM,CAACa,OAAP,EAAkB,EAAvB,CAAP,CAAtD,EADF,CAdF,CA+BI,sBAAAb,MAAM,CAACc,WAAP,kEAAoBC,MAApB,EAA6B,CAA7B,eACE,oBAAC,QAAD,mBACE,2BAAK,SAAS,CAAC,0CAAf,6BADF,cAGE,2BAAK,SAAS,CAAC,WAAf,EAEIf,MAAM,CAACc,WAAP,CAAmBE,GAAnB,CAAuB,SAACC,CAAD,CAAO,CAC5B,mBACE,oBAAC,QAAD,mBACE,yBAAG,GAAG,CAAEA,CAAC,CAACC,GAAV,CAAe,IAAI,CAAED,CAAC,CAACC,GAAvB,CAA4B,SAAS,CAAC,gBAAtC,EAAwDD,CAAC,CAACE,IAA1D,CADF,cACqE,8BADrE,CADF,CAKD,CAND,CAFJ,CAHF,CAhCN,cAmDE,8BAnDF,cAoDE,8BApDF,cAqDE,8BArDF,cAsDE,8BAtDF,CAFF,CADF,CADF,CADF,CAkED","sourcesContent":["import React, { useState, Fragment, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport Layout from '../../components/Layout';\n\nimport { getSecInfosDetail } from '../../../api/second';\n\nimport './index.less';\nimport RightTopNav from '../../components/RightTopNav';\n\nimport { getParam } from '../../../utils/url';\n\nexport default function GonggaoDetail() {\n  const [detail, setDetail] = useState({});\n\n  const history = useHistory();\n\n  useEffect(() => {\n    getData();\n  }, [history]);\n\n  const getData = () => {\n    getSecInfosDetail({ infoId: getParam('id') }).then((res) => {\n      res.data && res.data.info && setDetail(res.data.info);\n    });\n  }\n\n  return (\n    <Layout>\n      <div className=\"erji erji-shouxu\">\n        <div className=\"right\">\n          <RightTopNav />\n          <div className=\"normal-detail\">\n            <div className=\"erji-title\">{detail.title}</div>\n            <div className=\"gap-top-m erji-gray-bg-text\">\n              <span>{detail.publishDate}发布</span>\n              {/* <span>10万+阅读</span> */}\n            </div>\n\n            {\n              detail.subtitle && (\n                <div className=\"erji-sub-title gap-top-l gap-bottom-m\">\n                  {detail.subtitle}\n                </div>\n              )\n            }\n            <div className=\"gap-top-m detail-text\">\n              <div className=\"pre-content\" dangerouslySetInnerHTML={{__html: `${detail.content || ''}`}}></div>\n            </div>\n\n            {/* 图片 */}\n\n            {/* {\n              detail.picture && (\n                <div>\n                  <img src={detail.picture.url} alt=\"\" />\n                </div>\n              )\n            } */}\n\n            {/* 相关附件 */}\n\n            {\n              detail.attachments?.length > 0 && (\n                <Fragment>\n                  <div className=\"gap-top-l erji-normal-title gap-bottom-s\">相关附件</div>\n\n                  <div className=\"erji-down\">\n                    {\n                      detail.attachments.map((e) => {\n                        return (\n                          <Fragment>\n                            <a key={e.url} href={e.url} className=\"erji-sub-title\">{e.name}</a><br />\n                          </Fragment>\n                        )\n                      })\n                    }\n                    \n                  </div>\n                </Fragment>\n              )\n            }\n\n            <br />\n            <br />\n            <br />\n            <br />\n\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}"]},"metadata":{},"sourceType":"module"}